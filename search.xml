<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>简单理解 java.lang.Throwable</title>
      <link href="/2022/08/15/%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3-java-lang-Throwable/"/>
      <url>/2022/08/15/%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3-java-lang-Throwable/</url>
      
        <content type="html"><![CDATA[<h1 id="javalangthrowable"><a class="markdownIt-Anchor" href="#javalangthrowable"></a> java.lang.Throwable</h1><p><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html">Throwable (Java Platform SE 8 )</a></p><p>在 Java 中 Throwable 类是所有 errors 和 exceptions 的父类。他包含了两个子类，分别为 Error 和 Exception</p><h2 id="error"><a class="markdownIt-Anchor" href="#error"></a> Error</h2><p><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Error.html">Error (Java Platform SE 8 )</a></p><p>Error 是 Throwable 的子类，表示正常的应用程序不应该尝试捕获的严重问题。通常这种问题不是由于程序导致的。</p><h2 id="exception"><a class="markdownIt-Anchor" href="#exception"></a> Exception</h2><p><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html">Exception (Java Platform SE 8 )</a></p><p>Exception 通常表示正常的应用程序可能想要捕获的问题。</p><p>Exception 又分为两种，一种为检查异常（checked exceptions），另一种为非检查异常（unchecked exceptions）。非检查异常包括 RuntimeExcetion 以及它的子类，其它类型的 Exception 均为检查异常。</p><p>对于检查异常，如果可以被抛出，则需要在方法或者构造方法中的 <strong>throws</strong> 子句中声明它们（这个是强制的，在代码编写中就会被 IDE 提醒）。而非检查异常则不需要强制声明处理。</p>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> throwable </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>How to config a proxy for WSL2</title>
      <link href="/2022/06/06/How-to-config-a-proxy-for-WSL2/"/>
      <url>/2022/06/06/How-to-config-a-proxy-for-WSL2/</url>
      
        <content type="html"><![CDATA[<p>I met some problems when I downloaded some files from GitHub on WSL2. I cannot download files when I connect to GitHub directly. So, I try to use a proxy to solve the problem. I have tried serval solutions which do not work.</p><p>Now, there is a way to solve the problem with the following content.</p><h1 id="preparation"><a class="markdownIt-Anchor" href="#preparation"></a> Preparation:</h1><ol><li><p>Open the function of Allow LAN in your proxy software.</p></li><li><p>Get the port(eg. Clash’s default port is 7890) of the proxy.</p></li></ol><h1 id="solution"><a class="markdownIt-Anchor" href="#solution"></a> Solution:</h1><ol><li><p>Add the following code at the end of <code>.bashrc</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">ipip=$(grep nameserver /etc/resolv.conf | sed <span class="string">&#x27;s/nameserver //&#x27;</span>)</span><br><span class="line">proxy_port=7890</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">showproxy</span></span>()</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;Show Proxy:&#x27;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;http_proxy=<span class="variable">$http_proxy</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;https_proxy=<span class="variable">$https_proxy</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ftp_proxy=<span class="variable">$ftp_proxy</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ALL_PROXY=<span class="variable">$ALL_PROXY</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">proxy</span></span> () &#123;</span><br><span class="line">                <span class="built_in">export</span> ALL_PROXY=socks5://<span class="variable">$&#123;ipip&#125;</span>:<span class="variable">$&#123;proxy_port&#125;</span></span><br><span class="line">                <span class="built_in">export</span> ftp_proxy=http://<span class="variable">$ipip</span>:<span class="variable">$proxy_port</span>/</span><br><span class="line">                <span class="built_in">export</span> http_proxy=http://<span class="variable">$ipip</span>:<span class="variable">$proxy_port</span>/</span><br><span class="line">                <span class="built_in">export</span> https_proxy=http://<span class="variable">$ipip</span>:<span class="variable">$proxy_port</span>/</span><br><span class="line">                showproxy</span><br><span class="line">                curl -vv http://google.com</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">noproxy</span></span> () &#123;</span><br><span class="line">        <span class="built_in">unset</span> ALL_PROXY</span><br><span class="line">        <span class="built_in">unset</span> ftp_proxy</span><br><span class="line">                <span class="built_in">unset</span> http_proxy</span><br><span class="line">                <span class="built_in">unset</span> https_proxy</span><br><span class="line">                showproxy</span><br><span class="line">        curl myip.ipip.net</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">proxy</span><br></pre></td></tr></table></figure></li><li><p>Enabling environment variables</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> .bashrc</span><br></pre></td></tr></table></figure></li><li><p>Now, you can use the following command to activate proxy and deactivate proxy in shell.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># activate</span></span><br><span class="line">proxy</span><br><span class="line"></span><br><span class="line"><span class="comment"># deactivate</span></span><br><span class="line">noproxy</span><br></pre></td></tr></table></figure></li></ol><p><strong>And have a nice day!</strong></p>]]></content>
      
      
      <categories>
          
          <category> WSL2 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> wsl2 </tag>
            
            <tag> proxy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[fixed]-bash: command not found when using ssh connect to server</title>
      <link href="/2022/02/21/fixed-bash-command-not-found-when-using-ssh-connect-to-server/"/>
      <url>/2022/02/21/fixed-bash-command-not-found-when-using-ssh-connect-to-server/</url>
      
        <content type="html"><![CDATA[<h2 id="problem"><a class="markdownIt-Anchor" href="#problem"></a> Problem</h2><p>之前在项目里面写了一个 shell 脚本，用在 Github action 中部署项目到服务器上，但是最近用 Docker 部署后，重写了这个脚本，重新启用 Github action 执行时出现以下错误。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-bash: line 50: docker: <span class="built_in">command</span> not found</span><br><span class="line">-bash: line 51: docker: <span class="built_in">command</span> not found</span><br><span class="line">-bash: line 53: docker: <span class="built_in">command</span> not found</span><br><span class="line">-bash: line 54: docker: <span class="built_in">command</span> not found</span><br><span class="line">-bash: line 57: awk: <span class="built_in">command</span> not found</span><br><span class="line">-bash: line 57: xargs: <span class="built_in">command</span> not found</span><br><span class="line">-bash: line 57: grep: <span class="built_in">command</span> not found</span><br><span class="line">-bash: line 57: docker: <span class="built_in">command</span> not found</span><br><span class="line">-bash: line 59: docker: <span class="built_in">command</span> not found</span><br></pre></td></tr></table></figure><h2 id="solution"><a class="markdownIt-Anchor" href="#solution"></a> Solution</h2><p>找了半天没有找到解决办法，后来就想着如何能找问题，在 VS Code 中安装了一个 shellcheck 插件，完美解决了这个问题。</p><p>shellcheck 扫描到脚本中一个变量问题，就是我在脚本中使用了 <code>PATH</code> 这个变量名称，导致后续的环境变量被全局覆盖，所以出现找不到各种可执行命令的问题。</p><p>修改 <code>PATH</code> 为其它名称，问题解决。</p><p>Just so stupid…</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ssh </tag>
            
            <tag> linux </tag>
            
            <tag> github action </tag>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Downloading CanvasKit failure error when running flutter on brower</title>
      <link href="/2022/02/17/Downloading-CanvasKit-failure-error-when-running-flutter-on-brower/"/>
      <url>/2022/02/17/Downloading-CanvasKit-failure-error-when-running-flutter-on-brower/</url>
      
        <content type="html"><![CDATA[<h2 id="reason"><a class="markdownIt-Anchor" href="#reason"></a> Reason</h2><p>此问题是由于国内无法直接访问 <code>chrome-infra-packages.appspot.com</code>， 导致安装包下载失败。更换全局代理后依旧无法正常安装启动，因此替换了 Flutter 的国内镜像源来解决此问题。</p><h2 id="solution"><a class="markdownIt-Anchor" href="#solution"></a> Solution</h2><h3 id="windows"><a class="markdownIt-Anchor" href="#windows"></a> Windows</h3><p>新增两个环境变量</p><ul><li>PUB_HOSTED_URL<ul><li><a href="https://pub.flutter-io.cn">https://pub.flutter-io.cn</a></li></ul></li><li>FLUTTER_STORAGE_BASE_URL<ul><li><a href="https://storage.flutter-io.cn">https://storage.flutter-io.cn</a></li></ul></li></ul><h3 id="linux"><a class="markdownIt-Anchor" href="#linux"></a> Linux</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PUB_HOSTED_URL=https://pub.flutter-io.cn</span><br><span class="line"><span class="built_in">export</span> FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> flutter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>配置Flutter国内镜像源</title>
      <link href="/2022/02/17/%E9%85%8D%E7%BD%AEFlutter%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F%E6%BA%90/"/>
      <url>/2022/02/17/%E9%85%8D%E7%BD%AEFlutter%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F%E6%BA%90/</url>
      
        <content type="html"><![CDATA[<h2 id="windows"><a class="markdownIt-Anchor" href="#windows"></a> Windows</h2><p>新增两个环境变量</p><ul><li>PUB_HOSTED_URL<ul><li><a href="https://pub.flutter-io.cn">https://pub.flutter-io.cn</a></li></ul></li><li>FLUTTER_STORAGE_BASE_URL<ul><li><a href="https://storage.flutter-io.cn">https://storage.flutter-io.cn</a></li></ul></li></ul><h2 id="linux"><a class="markdownIt-Anchor" href="#linux"></a> Linux</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PUB_HOSTED_URL=https://pub.flutter-io.cn</span><br><span class="line"><span class="built_in">export</span> FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn</span><br></pre></td></tr></table></figure><h2 id="参考信息"><a class="markdownIt-Anchor" href="#参考信息"></a> 参考信息</h2><ol><li>【在中国网络环境下使用 Flutter】 <a href="https://flutter.cn/community/china">https://flutter.cn/community/china</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> flutter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Cloud Gateway and Eureka</title>
      <link href="/2022/01/13/Spring-Cloud-Gateway-and-Eureka/"/>
      <url>/2022/01/13/Spring-Cloud-Gateway-and-Eureka/</url>
      
        <content type="html"><![CDATA[<p>具体实现可参考代码 <a href="https://github.com/tzzs/gatewayEurekaDemo">Spring Cloud Gateway and Eureka (Github)</a></p><blockquote><p>本文档中简单描述了如何使用 <code>Spring Cloud Gateway</code> 组件自动路由到 <code>Eureka</code> 注册中心上</p></blockquote><p>以下为本次 Demo 中主要涉及的微服务模块：</p><ol><li>一个<code>Gateway</code>网关：实现前端路由的自动转发</li><li>一个<code>Eureka</code>注册中心：实现多服务的注册</li><li>两个接口提供模块：实现对应的接口功能，并通过<code>Eureka Client</code> 自动注册到 <code>Eureka Server</code>。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line"></span><br><span class="line">Gateway --&gt; EurekaServer</span><br><span class="line">EurekaServer --&gt; Service1</span><br><span class="line">EurekaServer --&gt; Service2</span><br></pre></td></tr></table></figure><h2 id="eureka-server-模块"><a class="markdownIt-Anchor" href="#eureka-server-模块"></a> Eureka Server 模块</h2><p>此模块中仅提供单一的注册中心功能，配置如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">eurekaserver</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">9092</span></span><br><span class="line"></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://localhost:$&#123;server.port&#125;/eureka/</span></span><br><span class="line">    <span class="attr">fetch-registry:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">register-with-eureka:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h2 id="service-模块"><a class="markdownIt-Anchor" href="#service-模块"></a> Service 模块</h2><p>在此微服务模块中，仅使用 <code>Spring Boot</code>与 <code>Eureka Client</code>实现对应接口的创建与注册。 ​</p><p>在两个 <code>Service</code>模块中分别提供一个接口，返回一个字符串 <code>This is service1.</code>与 <code>This is service2.</code>。<br />两个模块启动后可通过访问 <code>http://localhost:9093/</code>与 <code>http://localhost:9094/</code>测试是否正常启动。<br />​</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># application.yml  service1</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">9093</span></span><br><span class="line"></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://localhost:9092/eureka</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">service1</span></span><br></pre></td></tr></table></figure><h2 id="spring-cloud-gateway-模块"><a class="markdownIt-Anchor" href="#spring-cloud-gateway-模块"></a> Spring Cloud Gateway 模块</h2><p><a href="##%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3">参考文档</a>​</p><p>通过网关的路由功能，可以自动实现路由的转发功能，同时 <code>Spring Cloud Gateway</code>可以直接从 <code>Eureka Server</code>上获取注册模块，可以直接使用 <code>lb://$&#123;application_name&#125;</code> （下面指定<br />uri 时会用到）完成对应多服务的转发。 ​</p><p>以下为<code>Spring Cloud Gateway</code>的部分配置： ​</p><p><code>predicates</code>为路由的匹配配置： 即符合 <code>predicates</code> 下的条件才会路由到 <code>uri</code> 的地址。<code>Path</code>为路由匹配模式，路由前缀符合 <code>/api/service</code> 时才会满足条件（eg:<br /><code>http://localhost:9091/api/service2/get</code> ）. ​</p><p><code>filters</code> 为路由的过滤器配置： 下面主要涉及两个配置， <code>PreFixPath</code>的配置的作用是，当请求路由满足 <code>predicates</code> 的条件时，路由转发时会在转发的路由前增加 <code>/add</code>路径，即请求路由为<br /><code>http://localhost:9091/api/service2</code> 转发路由为 <code>http://localhost:9094/add/api/service2</code><br />。<code>RewritePath</code>的作用是满足条件时进行路由的重写，<code>/api/service2/?(?&lt;segment&gt;.*), /$\&#123;segment&#125;</code> 此正则的意思是把匹配路径中的 <code>/api/service2</code>去掉，即请求路由为<br /><code>http://localhost:9091/api/service2/</code> 时，转发路由为 <code>http://localhost:9094/</code> 。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">gateway</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">gateway:</span></span><br><span class="line">      <span class="attr">routes:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">id:</span> <span class="string">service</span></span><br><span class="line">          <span class="attr">uri:</span> <span class="string">lb://SERVICE1</span></span><br><span class="line">          <span class="attr">predicates:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">Path=/test/,/api/service1</span></span><br><span class="line">          <span class="attr">filters:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">RewritePath=/api/service1/?(?&lt;segment&gt;.*),</span> <span class="string">/$\&#123;segment&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">id:</span> <span class="string">service2</span></span><br><span class="line">          <span class="attr">uri:</span> <span class="string">http://localhost:9094</span></span><br><span class="line">          <span class="attr">predicates:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">Path=/api/service2</span></span><br><span class="line">          <span class="attr">filters:</span></span><br><span class="line">            <span class="comment">#            - PrefixPath=/add</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">RewritePath=/api/service2/?(?&lt;segment&gt;.*),</span> <span class="string">/$\&#123;segment&#125;</span></span><br><span class="line"><span class="comment">#      discovery:</span></span><br><span class="line"><span class="comment">#        locator:</span></span><br><span class="line"><span class="comment">#          enabled: true</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">9091</span></span><br><span class="line"></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://localhost:9092/eureka/</span></span><br></pre></td></tr></table></figure><h2 id="参考文档"><a class="markdownIt-Anchor" href="#参考文档"></a> 参考文档</h2><ol><li><p>Spring Cloud Gateway 配置</p><p><a href="https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/#gateway-request-predicates-factories">https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/#gateway-request-predicates-factories</a></p><p><a href="https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/#gatewayfilter-factories">https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/#gatewayfilter-factories</a></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> microservice </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring </tag>
            
            <tag> spring cloud </tag>
            
            <tag> eureka </tag>
            
            <tag> spring cloud gateway </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SM4 国密算法</title>
      <link href="/2021/12/18/SM4-%E5%9B%BD%E5%AF%86%E7%AE%97%E6%B3%95/"/>
      <url>/2021/12/18/SM4-%E5%9B%BD%E5%AF%86%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<div style="text-align:center;font-size:100px">SM4 算法</div><p>[TOC]</p><div STYLE="page-break-after: always;"></div><p><a href="https://github.com/tzzs/GM">代码实现 tzzs/GM (github.com)</a></p><h1 id="1-国密-sm4-算法"><a class="markdownIt-Anchor" href="#1-国密-sm4-算法"></a> 1. 国密 SM4 算法</h1><p>SM4 分组密码算法是我国自主设计的<strong>分组对称密码算法</strong>，用于实现数据的加密/解密，以保证数据和信息的机密性。其算法公开，分组长度与密钥长度均为 128bit，<strong>加密算法</strong>与<strong>密钥扩展算法</strong>都采用<strong>32 轮非线性迭代结构</strong>，<a href="#S%E7%9B%92">S 盒</a>为固定的 8 比特输入 8 比特输出。</p><h1 id="2-分组加密"><a class="markdownIt-Anchor" href="#2-分组加密"></a> 2. 分组加密</h1><blockquote><p><strong>分组加密</strong>（英语：<strong>Block cipher</strong>），又称<strong>分块加密</strong>或<strong>块密码</strong>，是一种对称密钥算法。<strong>分组加密</strong>（英语：<strong>Block cipher</strong>），又称<strong>分块加密</strong>或<strong>块密码</strong>，是一种<strong>对称密钥算法</strong>。例如： AES 3DES</p></blockquote><h1 id="3-s-盒"><a class="markdownIt-Anchor" href="#3-s-盒"></a> 3. S 盒</h1><p>在密码学中，一个<strong>S 盒</strong>（<strong>S</strong>ubstitution-<strong>box</strong>，<strong>替换盒</strong>）是对称密钥加密算法执行替换计算的基本结构。在块密码（分组加密）中，它们通常用于模糊<strong>密钥</strong>与密文之间的关系——<strong>香农</strong>的<strong>混淆理论</strong>。</p><p>通常，S-Box 接受特定数量的输入比特<em>m</em>，并将其转换为特定数量的输出比特<em>n</em>，其中<em>n</em> 不一定等于<em>m</em>。</p><h2 id="31-des-s-box"><a class="markdownIt-Anchor" href="#31-des-s-box"></a> 3.1 DES S-box</h2><p><img src="https://cos5-1255991898.cos.ap-chongqing.myqcloud.com/tk/image-20211208215758203.png" alt="image-20211208215758203" /></p><blockquote><p>011011</p><p>100101</p></blockquote><h2 id="32-sm4-s-box"><a class="markdownIt-Anchor" href="#32-sm4-s-box"></a> 3.2 SM4 S-box</h2><blockquote><p>S 盒为固定的 8 比特输入 8 比特输出的置换</p></blockquote><p><img src="https://cos5-1255991898.cos.ap-chongqing.myqcloud.com/tk/image-20211208223043162.png" alt="image-20211208223043162" /></p><p><img src="https://cos5-1255991898.cos.ap-chongqing.myqcloud.com/tk/image-20211208223006308.png" alt="image-20211208223006308" /></p><h1 id="4-加解密方式"><a class="markdownIt-Anchor" href="#4-加解密方式"></a> 4. 加/解密方式</h1><blockquote><p>SM4 算法加/解密算法的结构相同，只是使用轮密钥相反，其中解密轮密钥是加密轮密钥的逆序。</p></blockquote><h2 id="41-原理"><a class="markdownIt-Anchor" href="#41-原理"></a> 4.1 原理</h2><p>每组 128 bit（4 Byte） 按照以下方式进行加密</p><p><img src="https://cos5-1255991898.cos.ap-chongqing.myqcloud.com/tk/webp" alt="img" /></p><h2 id="42-填充方式"><a class="markdownIt-Anchor" href="#42-填充方式"></a> 4.2 填充方式</h2><blockquote><p>将明文转化为字节，由于 SM4 加密算法按照 128 个位进行分组，最后一个分组不够 128 位的情况，需要进行<strong>填充</strong>（ZeroPadding、PKCS7Padding、PKCS5Padding)</p></blockquote><ul><li><strong>ZeroPadding</strong></li></ul><p>数据长度不对齐时使用<strong>0</strong>填充，否则不填充。</p><ul><li><strong>PKCS7Padding</strong></li></ul><p>假设数据长度需要填充 n(n&gt;0)个字节才对齐，那么填充 n 个字节，每个字节都是<strong>n</strong>;</p><p>如果数据本身就已经对齐了，则填充一块长度为块大小的数据，每个字节都是块大小。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// block size: 8 Btye / 64 bit</span></span><br><span class="line"></span><br><span class="line">DD DD DD DD DD DD DD DD | DD DD DD DD</span><br><span class="line">         <span class="number">8</span> Byte</span><br><span class="line">DD DD DD DD DD DD DD DD |</span><br></pre></td></tr></table></figure><ul><li><strong>PKCS5Padding</strong></li></ul><p>PKCS7Padding 的子集，块大小固定为<strong>8</strong>字节。</p><h2 id="43-参数"><a class="markdownIt-Anchor" href="#43-参数"></a> 4.3 参数</h2><ul><li><p><strong>输入 X</strong></p><p>X0 X1 X2 X3 由 128 bit 拆分</p></li><li><p><strong>加密密钥 MK</strong>, 128 bit</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MK=(MK0, MK1, MK2, MK3)</span><br></pre></td></tr></table></figure></li><li><p><strong>轮密钥 rk</strong></p><p>共计 32 轮，32 个轮密钥</p></li><li><p><strong>轮函数 F</strong></p><p>每轮处理方式对应的函数</p></li><li><p><strong>系统参数 FK</strong>, 4 个</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FK0=(A3B1BAC6)，FK1=(56AA3350)，FK2=(677D9197)，FK3=(B27022DC)</span><br></pre></td></tr></table></figure></li><li><p><strong>固定参数 CK</strong>, 32 个</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">00070e15, 1c232a31, 383f464d, 545b6269,</span><br><span class="line">70777e85, 8c939aa1, a8afb6bd, c4cbd2d9,</span><br><span class="line">e0e7eef5, fc030a11, 181f262d, 343b4249,</span><br><span class="line">50575e65, 6c737a81, 888f969d, a4abb2b9,</span><br><span class="line">c0c7ced5, dce3eaf1, f8ff060d, 141b2229,</span><br><span class="line">30373e45, 4c535a61, 686f767d, 848b9299,</span><br><span class="line">a0a7aeb5, bcc3cad1, d8dfe6ed, f4fb0209,</span><br><span class="line">10171e25, 2c333a41, 484f565d, 646b7279</span><br></pre></td></tr></table></figure></li></ul><h2 id="44-轮函数-f"><a class="markdownIt-Anchor" href="#44-轮函数-f"></a> 4.4 轮函数 F</h2><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>X</mi><mn>4</mn></msub><mo>=</mo><mi>F</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>X</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>X</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>X</mi><mn>3</mn></msub><mo separator="true">,</mo><mi>r</mi><mi>k</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>X</mi><mn>0</mn></msub><mo>⊕</mo><mi>T</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mn>1</mn></msub><mo>⊕</mo><msub><mi>X</mi><mn>2</mn></msub><mo>⊕</mo><msub><mi>X</mi><mn>3</mn></msub><mo>⊕</mo><mi>r</mi><msub><mi>k</mi><mn>0</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">X_4 = F(X_0,X_1,X_2,X_3,rk) = X_0 \oplus T (X_1 \oplus X_2\oplus X_3\oplus rk_0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><h3 id="441-合成置换-t"><a class="markdownIt-Anchor" href="#441-合成置换-t"></a> 4.4.1 合成置换 T</h3><blockquote><p>一个<strong>可逆变换</strong>，由非线性变换 τ 和线性变换 L 复合而成,即 T(.)=L(τ(.))。</p></blockquote><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi><mo stretchy="false">(</mo><msub><mi>A</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>A</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>A</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>A</mi><mn>3</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mi>L</mi><mo stretchy="false">(</mo><mi>τ</mi><mo stretchy="false">(</mo><msub><mi>A</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>A</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>A</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>A</mi><mn>3</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">T(A_0,A_1,A_2,A_3) = L(\tau(A_0,A_1,A_2,A_3))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.1132em;">τ</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></span></p><h4 id="4411-非线性变换"><a class="markdownIt-Anchor" href="#4411-非线性变换"></a> 4.4.1.1 非线性变换</h4><blockquote><p>由 4 个并行的 S 盒构成</p></blockquote><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>B</mi><mo>=</mo><mi>τ</mi><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">)</mo><mo>=</mo><mi>τ</mi><mo stretchy="false">(</mo><msub><mi>A</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>A</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>A</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>A</mi><mn>3</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>S</mi><mi>b</mi><mi>o</mi><mi>x</mi><mo stretchy="false">(</mo><msub><mi>A</mi><mn>0</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>S</mi><mi>b</mi><mi>o</mi><mi>x</mi><mo stretchy="false">(</mo><msub><mi>A</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>S</mi><mi>b</mi><mi>o</mi><mi>x</mi><mo stretchy="false">(</mo><msub><mi>A</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>S</mi><mi>b</mi><mi>o</mi><mi>x</mi><mo stretchy="false">(</mo><msub><mi>A</mi><mn>3</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">B = \tau(A) = \tau(A_0,A_1,A_2,A_3) = (Sbox(A_0),Sbox(A_1),Sbox(A_2),Sbox(A_3))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.1132em;">τ</span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.1132em;">τ</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">b</span><span class="mord mathdefault">o</span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">b</span><span class="mord mathdefault">o</span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">b</span><span class="mord mathdefault">o</span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">b</span><span class="mord mathdefault">o</span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></span></p><h4 id="4412-线性变换-l"><a class="markdownIt-Anchor" href="#4412-线性变换-l"></a> 4.4.1.2 线性变换 L</h4><blockquote><p>非线性变换 τ 的输出是线性变换 L 的输入</p></blockquote><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mo>=</mo><mi>L</mi><mo stretchy="false">(</mo><mi>B</mi><mo stretchy="false">)</mo><mo>=</mo><mi>B</mi><mo>⊕</mo><mo stretchy="false">(</mo><mi>B</mi><mo>&lt;</mo><mo>&lt;</mo><mo>&lt;</mo><mn>2</mn><mo stretchy="false">)</mo><mo>⊕</mo><mo stretchy="false">(</mo><mi>B</mi><mo>&lt;</mo><mo>&lt;</mo><mo>&lt;</mo><mn>10</mn><mo stretchy="false">)</mo><mo>⊕</mo><mo stretchy="false">(</mo><mi>B</mi><mo>&lt;</mo><mo>&lt;</mo><mo>&lt;</mo><mn>18</mn><mo stretchy="false">)</mo><mo>⊕</mo><mo stretchy="false">(</mo><mi>B</mi><mo>&lt;</mo><mo>&lt;</mo><mo>&lt;</mo><mn>24</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">C = L(B) = B \oplus (B &lt;&lt;&lt; 2) \oplus (B &lt;&lt;&lt; 10) \oplus (B &lt;&lt;&lt; 18) \oplus (B &lt;&lt;&lt; 24)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord">8</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord">4</span><span class="mclose">)</span></span></span></span></span></p><h2 id="45-加解密算法"><a class="markdownIt-Anchor" href="#45-加解密算法"></a> 4.5 加/解密算法</h2><p>明文输入：（X<sub>0</sub> , X<sub>1</sub>, X<sub>2</sub>, X<sub>3</sub>）</p><p>密文输出： （Y<sub>0</sub> , Y<sub>1</sub>, Y<sub>2</sub>, Y<sub>3</sub>）</p><p>轮密钥： rk<sub>i</sub> (解密时为倒序)</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>X</mi><mrow><mi>i</mi><mo>+</mo><mn>4</mn></mrow></msub><mo>=</mo><mi>F</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>X</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>X</mi><mrow><mi>i</mi><mo>+</mo><mn>2</mn></mrow></msub><mo separator="true">,</mo><msub><mi>X</mi><mrow><mi>i</mi><mo>+</mo><mn>3</mn></mrow></msub><mo separator="true">,</mo><mi>r</mi><mi>k</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>X</mi><mi>i</mi></msub><mo>⊕</mo><mi>T</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>⊕</mo><msub><mi>X</mi><mrow><mi>i</mi><mo>+</mo><mn>2</mn></mrow></msub><mo>⊕</mo><msub><mi>X</mi><mrow><mi>i</mi><mo>+</mo><mn>3</mn></mrow></msub><mo>⊕</mo><mi>r</mi><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">X_{i+4} = F(X_i,X_{i+1},X_{i+2},X_{i+3},rk) = X_i \oplus T (X_{i+1} \oplus X_{i+2}\oplus X_{i+3}\oplus rk)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">4</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>Y</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>Y</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>Y</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>Y</mi><mn>3</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mi>R</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mn>32</mn></msub><mo separator="true">,</mo><msub><mi>X</mi><mn>33</mn></msub><mo separator="true">,</mo><msub><mi>X</mi><mn>34</mn></msub><mo separator="true">,</mo><msub><mi>X</mi><mn>35</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><msub><mi>X</mi><mn>35</mn></msub><mo separator="true">,</mo><msub><mi>X</mi><mn>34</mn></msub><mo separator="true">,</mo><msub><mi>X</mi><mn>33</mn></msub><mo separator="true">,</mo><msub><mi>X</mi><mn>32</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(Y_0,Y_1,Y_2,Y_3) = R(X_{32},X_{33}, X_{34}, X_{35}) = (X_{35},X_{34}, X_{33}, X_{32})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">4</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">5</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">5</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">4</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><h2 id="46-密钥扩展算法"><a class="markdownIt-Anchor" href="#46-密钥扩展算法"></a> 4.6 密钥扩展算法</h2><blockquote><p>本算法中加密算法的轮密钥由加密密钥通过密钥扩展算法生成。</p></blockquote><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>K</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>K</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>K</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>K</mi><mn>3</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>M</mi><msub><mi>K</mi><mn>0</mn></msub><mo>⊕</mo><mi>F</mi><msub><mi>K</mi><mn>0</mn></msub><mo separator="true">,</mo><mi>M</mi><msub><mi>K</mi><mn>1</mn></msub><mo>⊕</mo><mi>F</mi><msub><mi>K</mi><mn>1</mn></msub><mo separator="true">,</mo><mi>M</mi><msub><mi>K</mi><mn>2</mn></msub><mo>⊕</mo><mi>F</mi><msub><mi>K</mi><mn>2</mn></msub><mo separator="true">,</mo><mi>M</mi><msub><mi>K</mi><mn>3</mn></msub><mo>⊕</mo><mi>F</mi><msub><mi>K</mi><mn>3</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(K_0,K_1,K_2,K_3) = (MK_0 \oplus FK_0,MK_1 \oplus FK_1,MK_2 \oplus FK_2,MK_3 \oplus FK_3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><hr /><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi><msub><mi>k</mi><mi>i</mi></msub><mi mathvariant="normal">轮</mi><mi mathvariant="normal">密</mi><mi mathvariant="normal">钥</mi><mi mathvariant="normal">，</mi><mi>i</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mn>31</mn></mrow><annotation encoding="application/x-tex">rk_i 轮密钥，i = 0,1,2,...,31</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">轮</span><span class="mord cjk_fallback">密</span><span class="mord cjk_fallback">钥</span><span class="mord cjk_fallback">，</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mord">1</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi><msub><mi>k</mi><mi>i</mi></msub><mo>=</mo><msub><mi>K</mi><mrow><mi>i</mi><mo>+</mo><mn>4</mn></mrow></msub><mo>=</mo><msub><mi>K</mi><mi>i</mi></msub><mo>⊕</mo><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup><mo stretchy="false">(</mo><msub><mi>K</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>⊕</mo><msub><mi>K</mi><mrow><mi>i</mi><mo>+</mo><mn>2</mn></mrow></msub><mo>⊕</mo><msub><mi>K</mi><mrow><mi>i</mi><mo>+</mo><mn>3</mn></mrow></msub><mo>⊕</mo><mi>C</mi><msub><mi>K</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">rk_i = K_{i+4} = K_i \oplus T&#x27;(K_{i+1} \oplus K_{i+2} \oplus K_{i+3} \oplus CK_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">4</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.051892em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><hr /><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup><mo stretchy="false">(</mo><msub><mi>B</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>B</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>B</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>B</mi><mn>3</mn></msub><mo stretchy="false">)</mo><mo>=</mo><msup><mi>L</mi><mo mathvariant="normal">′</mo></msup><mo stretchy="false">(</mo><mi>τ</mi><mo stretchy="false">(</mo><msub><mi>B</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>B</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>B</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>B</mi><mn>3</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">T&#x27;(B_0,B_1,B_2,B_3) = L&#x27;(\tau(B_0,B_1,B_2,B_3))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.051892em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.051892em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.1132em;">τ</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mi mathvariant="normal">’</mi><mo stretchy="false">(</mo><mi>B</mi><mo stretchy="false">)</mo><mo>=</mo><mi>B</mi><mo>⊕</mo><mo stretchy="false">(</mo><mi>B</mi><mo>&lt;</mo><mo>&lt;</mo><mo>&lt;</mo><mn>13</mn><mo stretchy="false">)</mo><mo>⊕</mo><mo stretchy="false">(</mo><mi>B</mi><mo>&lt;</mo><mo>&lt;</mo><mo>&lt;</mo><mn>23</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L’(B) = B\oplus (B&lt;&lt;&lt;13) \oplus (B &lt;&lt;&lt; 23)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mord">’</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord">3</span><span class="mclose">)</span></span></span></span></span></p>]]></content>
      
      
      <categories>
          
          <category> 加密 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> sm4 </tag>
            
            <tag> go </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue.js learning notes</title>
      <link href="/2021/12/12/Vue-js-learning-notes/"/>
      <url>/2021/12/12/Vue-js-learning-notes/</url>
      
        <content type="html"><![CDATA[<div><img src="logo.svg" style="height:70px;" /></div><div style="text-align:center;font-size:200px">Vue.js</div><div STYLE="page-break-after: always;"></div><h1 id="目录"><a class="markdownIt-Anchor" href="#目录"></a> 目录</h1><ul><li><a href="#%E7%9B%AE%E5%BD%95">目录</a></li><li><a href="#%E5%91%BD%E4%BB%A4%E5%BC%8F%E6%B8%B2%E6%9F%93">命令式渲染</a></li><li><a href="#%E5%A3%B0%E6%98%8E%E5%BC%8F%E6%B8%B2%E6%9F%93">声明式渲染</a></li><li><a href="#mvvm">MVVM</a></li><li><a href="#-vuejs"><img src="https://cos5-1255991898.cos.ap-chongqing.myqcloud.com/tk/logo.svg" style="width:28px;" /> Vue.js</a></li><li><a href="#%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD">核心功能</a></li><li><a href="#%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8">安装/使用</a><ul><li><a href="#npm">NPM</a></li><li><a href="#script">Script</a></li><li><a href="#vuecli-vue-cli">@vue/cli <s>vue-cli</s></a></li></ul></li><li><a href="#%E5%9F%BA%E7%A1%80%E5%8A%9F%E8%83%BD">基础功能</a><ul><li><a href="#%E6%8C%87%E4%BB%A4">指令</a></li><li><a href="#%E5%8F%82%E6%95%B0">参数</a><ul><li><a href="#v-bind">v-bind</a></li><li><a href="#v-on">v-on</a></li><li><a href="#%E7%9C%81%E7%95%A5%E5%86%99%E6%B3%95">省略写法</a></li></ul></li><li><a href="#%E5%B1%9E%E6%80%A7-%E6%96%B9%E6%B3%95">属性 方法</a></li><li><a href="#watch">watch</a></li><li><a href="#computed">computed</a></li><li><a href="#methods">methods</a></li><li><a href="#mounted">mounted</a></li><li><a href="#%E5%AE%9E%E4%BE%8B%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90">实例生命周期钩子</a></li></ul></li><li><a href="#%E7%BB%84%E4%BB%B6-components">组件 components</a></li><li><a href="#%E8%B7%AF%E7%94%B1-router">路由 router</a><ul><li><a href="#%E5%AE%89%E8%A3%85-install">安装 install</a><ul><li><a href="#npm-1">npm</a></li><li><a href="#vuecli">@vue/cli</a></li></ul></li><li><a href="#%E4%BD%BF%E7%94%A8">使用</a><ul><li><a href="#router-view">router-view</a></li><li><a href="#router-link">router-link</a></li></ul></li></ul></li><li><a href="#%E5%8F%82%E8%80%83">参考</a></li></ul><div STYLE="page-break-after: always;"></div><h1 id="命令式渲染"><a class="markdownIt-Anchor" href="#命令式渲染"></a> 命令式渲染</h1><blockquote><p>命令式：一步一步告诉程序如何去做，能否达成结果取决于开发者的设计。<br />命令式渲染通常意味着手动操作 DOM</p></blockquote><h1 id="声明式渲染"><a class="markdownIt-Anchor" href="#声明式渲染"></a> 声明式渲染</h1><blockquote><p>声明式：只告诉程序想要什么结果，如何达成由程序保证，开发者不用关心。<br />命令式渲染通常意味着手动操作 DOM</p></blockquote><h1 id="mvvm"><a class="markdownIt-Anchor" href="#mvvm"></a> MVVM</h1><p><img src="https://cos5-1255991898.cos.ap-chongqing.myqcloud.com/tk/mvvm.png" alt="" /></p><p>MVVM：页面输入改变数据，数据改变影响页面数据展示与渲染</p><p>M（Model）：普通的 javascript 数据对象</p><p>V（View）：前端展示页面</p><p>VM（ViewModel）：用于双向绑定数据与页面，就是 vue 的实例</p><div STYLE="page-break-after: always;"></div><h1 id="img-srchttpscos5-1255991898cosap-chongqingmyqcloudcomtklogosvg-stylewidth28px-vuejs"><a class="markdownIt-Anchor" href="#img-srchttpscos5-1255991898cosap-chongqingmyqcloudcomtklogosvg-stylewidth28px-vuejs"></a> <img src="https://cos5-1255991898.cos.ap-chongqing.myqcloud.com/tk/logo.svg" style="width:28px;" /> Vue.js</h1><p><a href="https://vuejs.org/v2/guide/">https://vuejs.org/v2/guide/</a></p><blockquote><p>Vue (读音 /vjuː/，类似于 view) 是一套用于构建用户界面的渐进式框架。</p></blockquote><h1 id="核心功能"><a class="markdownIt-Anchor" href="#核心功能"></a> 核心功能</h1><ul><li><p>基础功能：页面渲染、表单处理提交、帮我们管理 DOM(虚拟 DOM)节点</p></li><li><p>组件化开发：增强代码的复用能力，复杂系统代码维护更简单</p></li><li><p>前端路由：更流畅的的用户体验、灵活的在页面切换已渲染组件的显示，不需与后端做多余的交互</p></li><li><p>状态集中管理：MVVM 响应式模型基础上实现多组件之间的状态数据同步与管理</p></li><li><p>前端工程化：结合 webpack 等前端打包工具，管理多种静态资源，代码，测试，发布等，整合前端大型项目。</p></li></ul><h1 id="安装使用"><a class="markdownIt-Anchor" href="#安装使用"></a> 安装/使用</h1><h2 id="npm"><a class="markdownIt-Anchor" href="#npm"></a> NPM</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue</span><br></pre></td></tr></table></figure><h2 id="script"><a class="markdownIt-Anchor" href="#script"></a> Script</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="vuecli-vue-cli"><a class="markdownIt-Anchor" href="#vuecli-vue-cli"></a> @vue/cli <s>vue-cli</s></h2><p><a href="https://cli.vuejs.org/guide/">https://cli.vuejs.org/guide/</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install @vue/cli</span><br><span class="line"></span><br><span class="line">vue create app</span><br></pre></td></tr></table></figure><h1 id="基础功能"><a class="markdownIt-Anchor" href="#基础功能"></a> 基础功能</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span>&#123;&#123; value &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">let</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&quot;Hello&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="指令"><a class="markdownIt-Anchor" href="#指令"></a> 指令</h2><blockquote><p>除 v-for 外，所有指令 attribute 的预期值都是单个 js 表达式</p></blockquote><h2 id="参数"><a class="markdownIt-Anchor" href="#参数"></a> 参数</h2><h3 id="v-bind"><a class="markdownIt-Anchor" href="#v-bind"></a> v-bind</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-bind:title</span>=<span class="string">&quot;message&quot;</span>&gt;</span>I&#x27;m a span.<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>将这个元素节点的 <code>title</code> attribute 和 Vue 实例的 <code>message</code> property 保持一致</p></blockquote><h3 id="v-on"><a class="markdownIt-Anchor" href="#v-on"></a> v-on</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;click_method&quot;</span>&gt;</span>Click<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="省略写法"><a class="markdownIt-Anchor" href="#省略写法"></a> 省略写法</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">:title</span>=<span class="string">&quot;111&quot;</span>&gt;</span>I&#x27;m a span.<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;click_method&quot;</span>&gt;</span>Click<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="属性-方法"><a class="markdownIt-Anchor" href="#属性-方法"></a> 属性 方法</h2><h2 id="watch"><a class="markdownIt-Anchor" href="#watch"></a> watch</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">watch</span>: &#123;</span><br><span class="line">    <span class="attr">test</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">w_data</span> = <span class="variable language_">this</span>.<span class="property">test</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="computed"><a class="markdownIt-Anchor" href="#computed"></a> computed</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">    <span class="attr">c_data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">test</span>.<span class="title function_">split</span>(<span class="string">&#x27;&#x27;</span>).<span class="title function_">reverse</span>().<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h2 id="methods"><a class="markdownIt-Anchor" href="#methods"></a> methods</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="attr">reverse</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">test</span> = <span class="variable language_">this</span>.<span class="property">test</span>.<span class="title function_">split</span>(<span class="string">&#x27;&#x27;</span>).<span class="title function_">reverse</span>().<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h2 id="mounted"><a class="markdownIt-Anchor" href="#mounted"></a> mounted</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mounted</span>: &#123;<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// get list</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="实例生命周期钩子"><a class="markdownIt-Anchor" href="#实例生命周期钩子"></a> 实例生命周期钩子</h2><p>参考<a href="#refer-anchor-1"><sup>1</sup></a> <a href="#refer-anchor-2"><sup>2</sup></a></p><p><img src="https://cos5-1255991898.cos.ap-chongqing.myqcloud.com/tk/lifecycle.png" alt="Vue 实例生命周期" /></p><ul><li>计算属性 computed 以及对应的声明周期</li></ul><blockquote><p>执行顺序实在 beforeMount 与 mounted 之间</p></blockquote><h1 id="组件-components"><a class="markdownIt-Anchor" href="#组件-components"></a> 组件 components</h1><p><img src="https://cos5-1255991898.cos.ap-chongqing.myqcloud.com/tk/components.png" alt="" /></p><h1 id="路由-router"><a class="markdownIt-Anchor" href="#路由-router"></a> 路由 router</h1><p><a href="https://router.vuejs.org/">https://router.vuejs.org/</a></p><h2 id="安装-install"><a class="markdownIt-Anchor" href="#安装-install"></a> 安装 install</h2><h3 id="npm-2"><a class="markdownIt-Anchor" href="#npm-2"></a> npm</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-router</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>);</span><br></pre></td></tr></table></figure><h3 id="vuecli"><a class="markdownIt-Anchor" href="#vuecli"></a> @vue/cli</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue add router</span><br></pre></td></tr></table></figure><h2 id="使用"><a class="markdownIt-Anchor" href="#使用"></a> 使用</h2><p>详见 Demo</p><h3 id="router-view"><a class="markdownIt-Anchor" href="#router-view"></a> router-view</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="router-link"><a class="markdownIt-Anchor" href="#router-link"></a> router-link</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span>&gt;</span>Go to about<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="参考"><a class="markdownIt-Anchor" href="#参考"></a> 参考</h1><div id="refer-anchor-1"></div><ul><li>[1] <a href="https://segmentfault.com/a/1190000011381906">https://segmentfault.com/a/1190000011381906</a></li></ul><div id="refer-anchor-2"></div><ul><li>[2] <a href="https://juejin.cn/post/6942030120383168542">vue 中 computed、watch、methods 与生命周期的执行顺序</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> vue.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Approach to start minikube on a single-core server</title>
      <link href="/2021/10/17/Approach-to-start-minikube-on-a-single-core-server/"/>
      <url>/2021/10/17/Approach-to-start-minikube-on-a-single-core-server/</url>
      
        <content type="html"><![CDATA[<p>I have an Aliyun server with single-core and 2GB memory. I installed minikube on it today. But I found it couldn’t run minikube. <code>minikube needs 2 CPUs or more and 2GB of free memory</code></p><p>There is a way to run minikube on a single-core server with following command.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">minikube start --force</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> kubernetes </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> kubectl </tag>
            
            <tag> kubernetes </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>upgrade docker engine package to docker-ce on CentOS</title>
      <link href="/2021/10/17/upgrade-docker-engine-package-to-docker-ce-on-CentOS/"/>
      <url>/2021/10/17/upgrade-docker-engine-package-to-docker-ce-on-CentOS/</url>
      
        <content type="html"><![CDATA[<blockquote><p>Older version of Docker were called <code>docker</code> or <code>docker-engine</code>. The Docker Engine package is now called <code>docker-ce</code> .</p></blockquote><ol><li><p>uninstall old versions</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo yum remove docker \</span><br><span class="line">                  docker-client \</span><br><span class="line">                  docker-client-latest \</span><br><span class="line">                  docker-common \</span><br><span class="line">                  docker-latest \</span><br><span class="line">                  docker-latest-logrotate \</span><br><span class="line">                  docker-logrotate \</span><br><span class="line">                  docker-engine</span><br></pre></td></tr></table></figure></li><li><p>set up the repository</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install -y yum-utils</span><br><span class="line"></span><br><span class="line">sudo yum-config-manager \</span><br><span class="line">    --add-repo \</span><br><span class="line">    https://download.docker.com/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure></li><li><p>install Docker Engine</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure></li><li><p>start Docker</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start docker</span><br></pre></td></tr></table></figure></li><li><p>verify that Docker Engine is installed correctly by running the <code>hello-world</code> image.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run hello-world</span><br></pre></td></tr></table></figure></li><li><p>upgrade Docker Engine</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y upgrade docker-ce</span><br></pre></td></tr></table></figure></li><li><p>view docker version number</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker version --format &#123;&#123;.Server.Os&#125;&#125;-&#123;&#123;.Server.Version&#125;&#125;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> kubernetes </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> kubectl </tag>
            
            <tag> kubernetes </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Installing and setting up kubectl on Linux</title>
      <link href="/2021/10/17/installing-and-setting-up-kubectl-on-Linux/"/>
      <url>/2021/10/17/installing-and-setting-up-kubectl-on-Linux/</url>
      
        <content type="html"><![CDATA[<h2 id="安装kubectl"><a class="markdownIt-Anchor" href="#安装kubectl"></a> 安装kubectl</h2><ol><li><p>获取kubectl安装包</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -LO &quot;https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl&quot;</span><br></pre></td></tr></table></figure></li><li><p>下载kubectl校验文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -LO &quot;https://dl.k8s.io/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl.sha256&quot;</span><br></pre></td></tr></table></figure></li><li><p>验证文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;$(&lt;kubectl.sha256) kubectl&quot; | sha256sum --check</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl: OK</span><br></pre></td></tr></table></figure></li><li><p>验证kubectl配置</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl cluster-info</span><br></pre></td></tr></table></figure></li></ol><h2 id="kubectl配置和插件"><a class="markdownIt-Anchor" href="#kubectl配置和插件"></a> kubectl配置和插件</h2><h3 id="自动补全"><a class="markdownIt-Anchor" href="#自动补全"></a> 自动补全</h3><ol><li><p>安装bash-completion</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install bash-completion</span><br></pre></td></tr></table></figure></li><li><p>测试是否安装完成（type后有空格）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type _init_completion</span><br></pre></td></tr></table></figure><p>如果有输出则正常</p></li></ol><h3 id="启用kubectl自动补全功能"><a class="markdownIt-Anchor" href="#启用kubectl自动补全功能"></a> 启用kubectl自动补全功能</h3><ol><li><p>方法1：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &#x27;source &lt;(kubectl completion bash)&#x27; &gt;&gt;~/.bashrc</span><br></pre></td></tr></table></figure><p>此方法会在bash启动时自动执行 <code>.bashrc</code> 文件中的 <code>source &lt;(kubectl completion bash)</code> 命令</p></li><li><p>方法2：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl completion bash &gt;/etc/bash_completion.d/kubectl</span><br></pre></td></tr></table></figure><p>此方法为bash-completion负责自动加载 <code>/etc/bash_completion.d</code> 路径下的所有补全脚本</p></li></ol><h3 id="安装-kubectl-convert-插件"><a class="markdownIt-Anchor" href="#安装-kubectl-convert-插件"></a> 安装 kubectl convert 插件</h3><blockquote><p>一个 Kubernetes 命令行工具 <code>kubectl</code> 的插件，允许你将清单在不同 API 版本间转换。 在将清单迁移到具有较新 Kubernetes 版本的未弃用 API 版本时，这个插件特别有用。</p></blockquote><ol><li><p>下载最新发行版</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -LO https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl-convert</span><br></pre></td></tr></table></figure></li><li><p>安装</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo install -o root -g root -m 0755 kubectl-convert /usr/local/bin/kubectl-convert</span><br></pre></td></tr></table></figure></li><li><p>验证</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl convert --help</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> kubernetes </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> kubectl </tag>
            
            <tag> kubernetes </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>change the WSL starting diectory in windows terminal</title>
      <link href="/2021/09/27/change-the-WSL-starting-diectory-in-windows-terminal/"/>
      <url>/2021/09/27/change-the-WSL-starting-diectory-in-windows-terminal/</url>
      
        <content type="html"><![CDATA[<ol><li><p>Open Settings, Profiles, Ubuntu-20.04(This is your WSL terminal in Windows Terminal), General in turn.</p></li><li><p>Then you can see the setting of Starting directory， change the value to <code>\\wsl.localhost\Ubuntu-20.04\home\ubuntu</code>.</p><p>This value may be different,  you need to change the content of the ubuntu-20.04 section according to your WSL version.</p></li><li><p>Restart your Windows Terminal and you will be see that it has taken effect.</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WSL </tag>
            
            <tag> Windows </tag>
            
            <tag> WindowsTerminal </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cx_Oracle DPI-1047: Cannot locate a 64-bit Oracle Client library</title>
      <link href="/2021/08/14/cx-Oracle-DPI-1047-Cannot-locate-a-64-bit-Oracle-Client-library/"/>
      <url>/2021/08/14/cx-Oracle-DPI-1047-Cannot-locate-a-64-bit-Oracle-Client-library/</url>
      
        <content type="html"><![CDATA[<h1 id="question"><a class="markdownIt-Anchor" href="#question"></a> QUESTION</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DatabaseError: DPI-1047: Cannot locate a 64-bit Oracle Client library: &quot;The specified module could not be found&quot;. See https://oracle.github.io/odpi/doc/installation.html#windows for help</span><br></pre></td></tr></table></figure><ol><li><p>检查是否安装对应版本的instantclient</p></li><li><p>检查环境变量是否配置，如未配置需要使用cx_Oracle.init_oracle_client(lib_dir)进行配置</p></li><li><p>运行instantclient目录下的genezi.exe检查是否能够正常运行，如果显示msvcr120.dll 找不到，则存在vc++环境未配置的问题。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Download and install the correct Visual Studio Redistributable from Microsoft. Instant Client 19 requires the Visual Studio 2017 redistributable. Instant Client 18 and 12.2 require the Visual Studio 2013 redistributable. Instant Client 12.1 requires the Visual Studio 2010 redistributable.</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>安装后重新运行即可</p><p>本文参考：<a href="https://blog.csdn.net/tinyleaf/article/details/82990879?utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-2.control">https://blog.csdn.net/tinyleaf/article/details/82990879?utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-2.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-2.control</a></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Oracle </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Smart Light Strip</title>
      <link href="/2021/06/26/Smart-Light-Strip/"/>
      <url>/2021/06/26/Smart-Light-Strip/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><blockquote><p>ESP8266 (LiLon NodeMcu V3)</p></blockquote><p>The port diagram below is for reference. Picture from this <a href="https://www.instructables.com/Getting-Started-With-ESP8266LiLon-NodeMCU-V3Flashi/">site</a>.</p><p><img src="https://content.instructables.com/ORIG/FCL/V0OG/IVO7W206/FCLV0OGIVO7W206.jpg?auto=webp&amp;frame=1&amp;width=678&amp;fit=bounds&amp;md=14cee154242999ffcbd64652017d4a3a" alt="img" /></p><h2 id="how-to-use-blinker-to-create-a-smart-light-strip"><a class="markdownIt-Anchor" href="#how-to-use-blinker-to-create-a-smart-light-strip"></a> HOW TO USE BLINKER TO CREATE A SMART LIGHT STRIP</h2><h3 id="1-install-arduino"><a class="markdownIt-Anchor" href="#1-install-arduino"></a> 1. Install Arduino</h3><p>You cloud download the Arduino IDE from this website <a href="https://www.arduino.cc/en/software">Software | Arduino</a>.</p><p><img src="https://cos5-1255991898.cos.ap-chongqing.myqcloud.com/tk/image-20210625004937487.png" alt="image-20210625004937487" /></p><h3 id="2-download-library"><a class="markdownIt-Anchor" href="#2-download-library"></a> 2. Download library</h3><p>Click Project -&gt; Load Library -&gt; Manage Library, then enter Blinker to download the library.</p><p>Use the same method to download Adafruit_NeoPixel  and ArduinoJson library.</p><p>​At this step, the environment setup has been completed. And it will be more interesting next.</p><h3 id="3-download-code-for-the-project"><a class="markdownIt-Anchor" href="#3-download-code-for-the-project"></a> 3. Download code for the project</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/tzzs/SmartLightStrip.git</span><br></pre></td></tr></table></figure><p>​Then you have to use Arduino to open this folder or project.</p><h3 id="4-download-blinker-application"><a class="markdownIt-Anchor" href="#4-download-blinker-application"></a> 4. Download blinker application</h3><p>Android APK: <a href="http://ccdn.diandeng.tech/apk/blinker-2.5.2-beta.apk">http://ccdn.diandeng.tech/apk/blinker-2.5.2-beta.apk</a></p><p>IOS APP: <a href="https://apps.apple.com/cn/app/id1498805902">https://apps.apple.com/cn/app/id1498805902</a></p><p><img src="https://cos5-1255991898.cos.ap-chongqing.myqcloud.com/tk/Screenshot_2021-06-25-01-07-52-454_iot.clz.me.jpg" alt="Screenshot_2021-06-25-01-07-52-454_iot.clz.me" /></p><p>​</p><h3 id="5-get-secret-key-from-application"><a class="markdownIt-Anchor" href="#5-get-secret-key-from-application"></a> 5. Get Secret Key from application</h3><p>Click the plus sign in the upper right corner, then select standalone device, select network access, and select a communication service provider. A secret key will be given at this time(may need to wait a few seconds), remember it.</p><h3 id="6-configure-wifi"><a class="markdownIt-Anchor" href="#6-configure-wifi"></a> 6. Configure WIFI</h3><p>Fill in the obtained information into the code.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> auth[] = <span class="string">&quot;&quot;</span>; <span class="comment">// app secret key</span></span><br><span class="line"><span class="type">char</span> ssid[] = <span class="string">&quot;&quot;</span>;    <span class="comment">// wifi ssid/name</span></span><br><span class="line"><span class="type">char</span> pswd[] = <span class="string">&quot;&quot;</span>; <span class="comment">// wifi password</span></span><br></pre></td></tr></table></figure><h3 id="7-installing-with-boards-manager"><a class="markdownIt-Anchor" href="#7-installing-with-boards-manager"></a> 7. Installing with Boards Manager</h3><p>Starting with 1.6.4, Arduino allows installation of third-party platform packages using Boards Manager. We have packages available for Windows, Mac OS, and Linux (32 and 64 bit).</p><ul><li>Install the current upstream Arduino IDE at the 1.8.9 level or later. The current version is on the <a href="https://www.arduino.cc/en/main/software">Arduino website</a>.</li><li>Start Arduino and open the Preferences window.</li><li>Enter <code>https://arduino.esp8266.com/stable/package_esp8266com_index.json</code> into the <em>File&gt;Preferences&gt;Additional Boards Manager URLs</em> field of the Arduino IDE. You can add multiple URLs, separating them with commas.</li><li>Open Boards Manager from Tools &gt; Board menu and install <em>esp8266</em> platform (and don’t forget to select your ESP8266 board from Tools &gt; Board menu after installation).</li></ul><p>Boards manager link: <code>https://arduino.esp8266.com/stable/package_esp8266com_index.json</code></p><p>Documentation: <a href="https://arduino-esp8266.readthedocs.io/en/3.0.0/">https://arduino-esp8266.readthedocs.io/en/3.0.0/</a></p><h3 id="8-flash-the-code-to-esp8266"><a class="markdownIt-Anchor" href="#8-flash-the-code-to-esp8266"></a> 8. Flash the code to ESP8266.</h3><p>Click Tools &gt; Boards &gt; ESP8266 Boards (3.0) &gt; NodeMcu  1.0(ESP-12E)</p><p>Then click verify  and upload.</p><h3 id="9-connecting-components"><a class="markdownIt-Anchor" href="#9-connecting-components"></a> 9. Connecting components</h3><p>This is also a very important step, otherwise it may not work properly.</p><p><img src="https://cos5-1255991898.cos.ap-chongqing.myqcloud.com/tk/Schematic_SmartLightStrip_2021-06-26.png" alt="Schematic_SmartLightStrip_2021-06-26" /></p><h3 id="10-connecting-board-with-blinker-app"><a class="markdownIt-Anchor" href="#10-connecting-board-with-blinker-app"></a> 10. Connecting board with Blinker APP</h3><p>First of all you have to add some components  corresponding to the code function.</p><p>The switch corresponds to the Switch1 in the code.</p><p>The Brightness slider corresponds to the Slider1 in the code.</p><p>The Color picker corresponds to the WS2812 in the code.</p><p><img src="https://cos5-1255991898.cos.ap-chongqing.myqcloud.com/tk/app.jpg" alt="app" /></p><h3 id="11-in-the-end"><a class="markdownIt-Anchor" href="#11-in-the-end"></a> 11. In the end</h3><p><strong>It’s over here. Enjoy it.</strong></p><h3 id="12-post-credits-scene"><a class="markdownIt-Anchor" href="#12-post-credits-scene"></a> 12. Post-credits scene</h3><p>The voice control function of Xiaoai based on Blinker to the code, waiting for you to explore!</p>]]></content>
      
      
      <categories>
          
          <category> IOT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Blinker </tag>
            
            <tag> ESP8266 </tag>
            
            <tag> WS2812 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Maven project cannot load maven repository depedency</title>
      <link href="/2021/01/15/Maven-project-cannot-load-maven-repository-depedency/"/>
      <url>/2021/01/15/Maven-project-cannot-load-maven-repository-depedency/</url>
      
        <content type="html"><![CDATA[<p>涉及的错误信息：</p><ol><li>parent.relativePath points at wrong local</li><li>Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.4.1 from/to</li></ol><p>今天碰了一个错误，就是新建的Spring Boot的项目，但是发现pom.xml中的依赖一直无法自动下载，手动更新也不行，昨天晚上搞了2个小时也没找到什么原因。今天突然在IDEA中的一个错误信息显示控制台中，发现我原来设置的仓库地址【D:\Program Files\Apache】只有 <strong>D:\Program</strong> 这一部分s是蓝色的高亮状态。我突然想起来是不是因为路径中不能有空格的原因，最后把Maven仓库地址修改为了【D:\dev\maven-repository】，果然就好了，🤡竟是我自己。</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
          <category> Maven </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>127.0.0.1 and 0.0.0.0</title>
      <link href="/2021/01/04/127-0-0-1-and-0-0-0-0/"/>
      <url>/2021/01/04/127-0-0-1-and-0-0-0-0/</url>
      
        <content type="html"><![CDATA[<p>今天在服务器测试django项目，直接使用的默认命令 <code>python manage.py runserver 8000</code> 启动的，然后项目就会启动在 127.0.0.1:8000 端口上。此时我想使用 ECS 服务器IP访问8000端口，查看运行情况结果访问失败。本来以为是阿里服务器安全规则导致，我重新更新了规则，放开了8000端口结果开始不行。后来才想到，可能是启动IP的问题，导致外界无法访问。</p><h2 id="127001"><a class="markdownIt-Anchor" href="#127001"></a> 127.0.0.1</h2><p>所有以127开头的IP均为<strong>回环地址</strong>，即我们在主机上发送给127IP的内容都会被主机自己接收，根本发不出去，同样外界也无法通过此IP访问到自己。当我们的项目启动IP为127.0.0.1:8000，则此IP仅能被当前主机访问，外界无法通过8000端口访问。</p><p>正常的数据会类型下面路径传输：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line"></span><br><span class="line">数据包 --&gt; IP层 --&gt; 链路层 --&gt; 外部网络</span><br></pre></td></tr></table></figure><p>但是回环地址的数据无法抵达链路层就被IP层获取，返回当前主机指定端口：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line"></span><br><span class="line">数据包 --&gt; IP层 --&gt; |拦截|本机8000端口</span><br></pre></td></tr></table></figure><h2 id="0000"><a class="markdownIt-Anchor" href="#0000"></a> 0.0.0.0</h2><p>0.0.0.0并不是一个真实的IP地址，它表示本机的所有<strong>IPV4的地址</strong>，监听0.0.0.0的端口，就是监听本机的所有IP的端口。当服务启动在0.0.0.0:8000时，就相当于服务器IP的8000端口启动了此服务，此时外界可以通过服务器IP:8000端口访问启动的项目。</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title> Nginx server SSL configuration file reference</title>
      <link href="/2020/12/19/Nginx-server-SSL-configuration-file-reference/"/>
      <url>/2020/12/19/Nginx-server-SSL-configuration-file-reference/</url>
      
        <content type="html"><![CDATA[<p>以下配置文件供参考，此配置在当前网站可用。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">  listen 80;</span><br><span class="line">  # 请求域名</span><br><span class="line">  server_name xxx.com;</span><br><span class="line">  # rewrite 用于将所有http请求自动转换为https</span><br><span class="line">  rewrite ^(.*)$ https://$host$1 permanent;</span><br><span class="line">  root /web;</span><br><span class="line">  location / &#123;</span><br><span class="line">    root /web/public;</span><br><span class="line">    index index.html;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">  # Https默认请求端口</span><br><span class="line">  listen       443 ssl;</span><br><span class="line">  # 请求域名</span><br><span class="line">  server_name xxx.com;</span><br><span class="line"></span><br><span class="line">  location / &#123;</span><br><span class="line">    # 项目根目录</span><br><span class="line">    root /web/public;</span><br><span class="line">    # 请求主页名 会与上面的路径拼接获取对应文件</span><br><span class="line">    index index.html;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  # 证书pem与key文件的位置</span><br><span class="line">  ssl_certificate pem_path;</span><br><span class="line">  ssl_certificate_key key_path;</span><br><span class="line">  ssl_session_timeout 5m;</span><br><span class="line">  # 加密套件类型</span><br><span class="line">  ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;</span><br><span class="line">  # TLS协议类型</span><br><span class="line">  ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span><br><span class="line">  ssl_prefer_server_ciphers on;</span><br><span class="line"></span><br><span class="line">  error_page 404 /404.html;</span><br><span class="line">  location = /40x.html &#123;</span><br><span class="line">    root /web/html;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  error_page 500 502 503 504 /50x.html;</span><br><span class="line">  location = /50x.html &#123;</span><br><span class="line">    root /web/html;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nginx </tag>
            
            <tag> HTTPS </tag>
            
            <tag> SSL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx 403 error: directory index of [folder] is forbidden</title>
      <link href="/2020/12/19/Nginx-403-error-directory-index-of-folder-is-forbidden/"/>
      <url>/2020/12/19/Nginx-403-error-directory-index-of-folder-is-forbidden/</url>
      
        <content type="html"><![CDATA[<p>今天对服务器上的Nginx配置SSL证书的时候，写了一个很傻的错误，导致它出现 <code>Nginx 403 error: directory index of [folder] is forbidden</code>这个错误，在日志中显示一下内容：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2020/12/19 01:50:55 [error] 30312#0: *1 directory index of &quot;/web&quot; is forbidden, client: xxx.xxx.xxx.xxx, server: imtzz.com, request: &quot;GET / HTTP/1.1&quot;, host: &quot;imtzz.com&quot;</span><br></pre></td></tr></table></figure><p>显示被拒绝，我们本来以为是文件夹权限的问题，发现修改为777后依旧由此错误，最后发现是nginx的conf文件中 index 后面的index.html （写成了 index.hmtl, 导致找不到主页才会访问被拒绝）写错了🙂 ，心态爆炸。</p>]]></content>
      
      
      <categories>
          
          <category> Nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Https </tag>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>配置Github Actions过程中的一些问题</title>
      <link href="/2020/12/19/%E9%85%8D%E7%BD%AEGithub%20Actions%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/"/>
      <url>/2020/12/19/%E9%85%8D%E7%BD%AEGithub%20Actions%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<ol><li><p>在Actions中切换分支</p> <figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">Codes</span></span><br><span class="line">  <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">    git clone -b hexo https://$&#123;&#123;secrets.CODING_TOKEN_NAME&#125;&#125;:$&#123;&#123;secrets.CODINGTOKEN&#125;&#125;@$&#123;Coding&#125; hexo</span></span><br><span class="line"><span class="string">    cd master</span></span><br><span class="line"><span class="string">    ls</span></span><br><span class="line"><span class="string"></span>  <span class="attr">env:</span></span><br><span class="line">    <span class="attr">Coding:</span> <span class="string">e.coding.net/imtzz/Pages.git</span></span><br></pre></td></tr></table></figure></li><li><p>如何使用SSH登录远程服务器</p><p>服务器：A</p><p>Action 服务器：B</p><ol><li><p>首先需要获取服务器A的密钥，用于CI服务器B远程免密登录，并且对应的服务器A公钥要加在A的<code>~/.ssh/authorized_keys</code>中。</p><pre><code><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure></code></pre></li><li><p>在Github Secrets中配置以下几项内容</p><pre><code>SERVER_IP：服务器A的IP地址SERVER_USERNAME：要登陆到服务器A使用的用户名（要与密钥匹配）SERVER_PRIVATE_KEY：服务器A密钥（id_rsa），建议复制的时候直接在文件中CTRL+A，全选粘进去。**\*不要缺少BEGIN和END那两行以及最后的空行，全都要。\***</code></pre></li><li><p>StrictHostKeyChecking配置是关闭公钥检查，会自动接受新的公钥，防止需要输入yes时终端CI处理。</p>  <figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Configure</span> <span class="string">SSH</span> </span><br><span class="line">  <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">      mkdir -p ~/.ssh </span></span><br><span class="line"><span class="string">      echo &quot;$&#123;KEY&#125;&quot; &gt; ~/.ssh/deploy.key</span></span><br><span class="line"><span class="string">      chmod 600 ~/.ssh/deploy.key</span></span><br><span class="line"><span class="string">      cat &gt;&gt; ~/.ssh/config &lt;&lt;END</span></span><br><span class="line"><span class="string">      Host server</span></span><br><span class="line"><span class="string">        HostName $IP</span></span><br><span class="line"><span class="string">        User $USERNAME</span></span><br><span class="line"><span class="string">        IdentityFile ~/.ssh/deploy.key</span></span><br><span class="line"><span class="string">        StrictHostKeyChecking no</span></span><br><span class="line"><span class="string">      END</span></span><br><span class="line"><span class="string"></span>  <span class="attr">env:</span></span><br><span class="line">      <span class="attr">IP:</span> <span class="string">$&#123;&#123;secrets.SERVER_IP&#125;&#125;</span></span><br><span class="line">      <span class="attr">USERNAME:</span> <span class="string">$&#123;&#123;secrets.SERVER_USERNAME&#125;&#125;</span></span><br><span class="line">      <span class="attr">KEY:</span> <span class="string">$&#123;&#123;secrets.SERVER_PRIVATE_KEY&#125;&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ol></li><li><p>解决SSH连接服务器执行命令不能自动终止</p><pre><code>在最后执行服务器脚本的时候发现，虽然执行完了，但是无法自己断开连接，就需要对执行命令进行修改，最后如下。 deploy.sh 需要执行的脚本，server是上面config文件中配置的名称，将所有输出导向 /dev/null，即可自动关闭。 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh server &lt; deploy.sh &gt; /dev/null 2&gt;&amp;1</span><br></pre></td></tr></table></figure></code></pre></li><li><p>其实中间碰到了不少问题，许多问题解决完就忘记了，以后想起来再写吧。</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> CI/CD </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CI/CD </tag>
            
            <tag> Github Actions </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows10下无法更改新应用的保存位置</title>
      <link href="/2020/12/16/Windows10%E4%B8%8B%E6%97%A0%E6%B3%95%E6%9B%B4%E6%94%B9%E6%96%B0%E5%BA%94%E7%94%A8%E7%9A%84%E4%BF%9D%E5%AD%98%E4%BD%8D%E7%BD%AE/"/>
      <url>/2020/12/16/Windows10%E4%B8%8B%E6%97%A0%E6%B3%95%E6%9B%B4%E6%94%B9%E6%96%B0%E5%BA%94%E7%94%A8%E7%9A%84%E4%BF%9D%E5%AD%98%E4%BD%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>​前两天重新安装了Windows，今天正好想要从Windows Store里面安装软件，就想起来要修改一下软件安装位置（不然C盘占用的太多了）。但是发现无法修改，抛出错误代码0x80070002。</p><p>​试了几个方法都没有用，最终在神奇的知乎找到了解决办法。</p><p>解决办法：</p><p>​删除想要移动的盘符内（我要修改到D盘，就是D盘内）的<code>WindowsApps</code>,  <code>WpSystem</code>,   <code>WUDownloadCache</code>,  <code>用户同名文件夹</code>，删除可能需要管理权限，WindowsApps如果无法删除的话，建议使用强力删除工具进行删除，然后再去设置里修改就完成了。</p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
          <category> Windows10 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> Windows10 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows下迁移User下的用户目录到非系统盘</title>
      <link href="/2020/12/15/Windows%E4%B8%8B%E8%BF%81%E7%A7%BBUser%E4%B8%8B%E7%9A%84%E7%94%A8%E6%88%B7%E7%9B%AE%E5%BD%95%E5%88%B0%E9%9D%9E%E7%B3%BB%E7%BB%9F%E7%9B%98/"/>
      <url>/2020/12/15/Windows%E4%B8%8B%E8%BF%81%E7%A7%BBUser%E4%B8%8B%E7%9A%84%E7%94%A8%E6%88%B7%E7%9B%AE%E5%BD%95%E5%88%B0%E9%9D%9E%E7%B3%BB%E7%BB%9F%E7%9B%98/</url>
      
        <content type="html"><![CDATA[<ol><li><p>先进入Windows的修复模式，进入修复模式的命令行功能。</p><p>如果能够登录Windows, 按住Shift点击重启,则能够直接进入修复模式.</p><p>如果无法进入Windows界面, (我的主板是ASUS, 目前没找到好的办法可以直接从BIOS进入), 可以在见到ASUS图标后, 按住关机键强制重启, 重复三次, 则可进入.</p></li><li><p>使用diskpart命令查看盘符（😭我的Windows里的盘符与diskpart的不一致,导致我重启了N多次）</p><p>此时CMD一般显示的是X盘, 这是正常的不要惊慌.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入diskpart工具</span></span><br><span class="line">diskpart</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看所有的硬盘</span></span><br><span class="line">list disk</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入系统盘所在的硬盘</span></span><br><span class="line">select disk 2 </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看当前硬盘的磁盘盘符 C: D:</span></span><br><span class="line">LIST VOLUME</span><br></pre></td></tr></table></figure></li><li><p>根据查看的盘符编写命令</p><p>想要将C:\Users\XXX 迁移到 D:\Users\XXX</p><p>在diskpart中查看到的盘符分别为 G: 和 H: , 但是这里有个问题要注意, 等下G:\Users设置软链接的时候依旧要链到D:\Users , <strong>这点很重要(因为我重启了好几次)</strong>.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">robocopy 文件复制   /E 复制子目录(包括空目录) /COPYALL 复制所有文件信息  /XJ 排除接合点(I don<span class="string">&#x27;t know what this is.) /XD排除某个文件</span></span></span><br><span class="line">robocopy &quot;G:\Users&quot; &quot;D:\Users&quot; /E /COPYALL /XJ /XD &quot;G:\Users\Administrator&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">如果上一步复制失败,说有某个文件夹正在使用就可以使用/XD跳过对应的文件夹</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">如果仅迁移当前用户,则可以仅复制 G:\Users\userName 目录 到 D:\Users\userName</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">删除G:\Users目录, 应为删除后才能创建软连接</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">rmdir 删除文件夹 /S 递归删除 /Q 安静模式,不会确认是否需要删除</span></span></span><br><span class="line">rmdir &quot;C:\Users&quot; /S /Q</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">上两步成功,就基本成功了</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">mklink 创建软链接 /J 链接类型为目录链接</span></span></span><br><span class="line">mklink &quot;G:\Users&quot; &quot;D:\Users&quot; /J</span><br></pre></td></tr></table></figure></li><li><p>执行完成以上步骤后, 开机确认, 打开C:\Users 确认是否与 D:\Users 内容不同, 如果不相同可能就是mklink链接目录不对(即diskpart中的盘符与Windows开机后的盘符不一致, 按照第三步重新编写命令执行).</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
          <category> Windows10 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Typero自动上传图片到Tencent COS</title>
      <link href="/2020/11/29/Typero%E8%87%AA%E5%8A%A8%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E5%88%B0Tencent-Cos/"/>
      <url>/2020/11/29/Typero%E8%87%AA%E5%8A%A8%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E5%88%B0Tencent-Cos/</url>
      
        <content type="html"><![CDATA[<h2 id="python实现上传脚本"><a class="markdownIt-Anchor" href="#python实现上传脚本"></a> Python实现上传脚本</h2><ol><li><p>我使用的是腾讯的COS所以直接去官网查找对应的SDK，我是参考以下接口写的，实现也比较简单。</p><p><a href="https://cloud.tencent.com/document/product/436/35151#.E9.AB.98.E7.BA.A7.E6.8E.A5.E5.8F.A3.EF.BC.88.E6.8E.A8.E8.8D.90.EF.BC.89">Python SDK 高级接口</a></p></li><li><p>需要使脚本符合Typero的规范。</p><blockquote><p>You could config a custom command to upload images, using tools that is not listed in above options, or event write your own tools / scripts. Typora will append all images that needs to be uploaded after the custom command you filled.</p><p>Then, Typora will fetch image urls from the last N lines of the standard output of your custom command. (N is the number of images to upload).</p><p>For example, if you write a tool <code>upload-image.sh</code>, then you can input <code>[some path]/upload-image.sh</code> in the command filed. Typora will call <code>[some path]/upload-image.sh &quot;image-path-1&quot; &quot;image-path-2&quot;</code> to upload two images located in <code>image-path-1</code> and <code>image-path-2</code>. Then the command may return something like:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Upload Success:</span><br><span class="line">http://remote-image-1.png</span><br><span class="line">http://remote-image-2.png</span><br></pre></td></tr></table></figure><p>Then Typora will get the two remote image url from the output, and replace the original local images used in the Markdown document.</p><p>You could click the “Test Uploader” button to verify your custom commands.</p></blockquote><p>上面内容是Typero的文档中描述的，意思就是需要调用上传命令的时候从命令行中获取图片地址，上传完成后返回对应的在线图片地址。</p>   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line">sys.argv</span><br></pre></td></tr></table></figure><p>可以通过以上方法获取写入的命令行参数，第一位是py文件名，从第二个开始为传输参数。</p></li><li><p>综合以上内容, 以下就是脚本内容了。为了保护密钥的安装，使用了读取配置文件的方法实现密钥的写入。</p><p><a href="https://github.com/tzzs/qcloud_cos/blob/master/upload_for_md.py">https://github.com/tzzs/qcloud_cos/blob/master/upload_for_md.py</a></p></li></ol><h2 id="设置typero"><a class="markdownIt-Anchor" href="#设置typero"></a> 设置Typero</h2><p>偏好设置 &gt; 图像 &gt; 上传服务设定 &gt; 上传服务:Custom Command &gt; 自定义命令输入以下命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">activate WEB &amp;&amp; python E:/upload_for_md.py</span><br></pre></td></tr></table></figure><blockquote><p>注：由于我的环境下存在多个python，所以先使用conda激活指定的python环境，然后进行脚本的调用。脚本需要写绝对路径</p></blockquote><p>其它配置只勾选了这个，其它为手动上传（默认），防止放错图片就直接上传了。</p><ul><li>[x] 对本地位置的图片启用上述规则</li></ul>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Typora </tag>
            
            <tag> 对象存储 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Warning: Accessing non-existent property &#39;lineno&#39; of module exports inside circular dependency</title>
      <link href="/2020/09/01/Warning-Accessing-non-existent-property-lineno-of-module-exports-inside-circular-dependency/"/>
      <url>/2020/09/01/Warning-Accessing-non-existent-property-lineno-of-module-exports-inside-circular-dependency/</url>
      
        <content type="html"><![CDATA[<p>这几天更新了Blog，但是持续没有将版本发布出去，本来以为是缓存的问题等几个小时就好了，但是今天仍然无法访问。</p><p>我本地执行 <code>hexo server</code> 发现是能够正常访问的，这应该就是Travis的问题了。</p><p>于是我就去GitHub仓库上看Index.html的内容，发现是空的，此时就能够断定是Hexo编译静态内容出错了，然后去看Travis的持续集成日志，发现了一下错误。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">hexo clean</span></span><br><span class="line">(node:5773) Warning: Accessing non-existent property &#x27;lineno&#x27; of module exports inside circular dependency</span><br><span class="line">(Use `node --trace-warnings ...` to show where the warning was created)</span><br><span class="line">(node:5773) Warning: Accessing non-existent property &#x27;column&#x27; of module exports inside circular dependency</span><br><span class="line">(node:5773) Warning: Accessing non-existent property &#x27;filename&#x27; of module exports inside circular dependency</span><br><span class="line">(node:5773) Warning: Accessing non-existent property &#x27;lineno&#x27; of module exports inside circular dependency</span><br><span class="line">(node:5773) Warning: Accessing non-existent property &#x27;column&#x27; of module exports inside circular dependency</span><br><span class="line">(node:5773) Warning: Accessing non-existent property &#x27;filename&#x27; of module exports inside circular dependency</span><br><span class="line">INFO  Deleted database.</span><br></pre></td></tr></table></figure><p>经过查看GitHub上Hexo的issue得知是由于node.js的版本过高导致的，因此我把travis中node.js的版本由 stable 修改为 12 ，至此问题完美解决。</p><p><strong>问题原因</strong></p><p>此问题是由于在Node.js中使用了stylus，同样Hexo基于Node.js实现，因此在stylus中存在循环依赖的情况下hexo也会收到影响，导致命令执行失败。</p><p>此问题已经在新版本中的stylus中修复，不知为何Node.js的Stable版本仍未更新。</p><p><a href="https://github.com/stylus/stylus/pull/2538">stylus pull 代码修复链接</a></p>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Node.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[LeetCode] single number</title>
      <link href="/2020/08/31/LeetCode-single-number/"/>
      <url>/2020/08/31/LeetCode-single-number/</url>
      
        <content type="html"><![CDATA[<p><a href="https://leetcode-cn.com/problems/single-number/">Single Number</a></p><p>给定一个非空整数数组，除了某个元素只出现一次以外，其余每个元素均出现两次。找出那个只出现了一次的元素。</p><p><strong>说明</strong></p><p>你的算法应该具有线性时间复杂度。 你可以不使用额外空间来实现吗？</p><p><strong>示例 1:</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入: [<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br><span class="line">输出: <span class="number">1</span></span><br></pre></td></tr></table></figure><p><strong>示例 2:</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入: [<span class="number">4</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">输出: <span class="number">4</span></span><br></pre></td></tr></table></figure><p><strong>解题</strong></p><ol><li>由于每个相同的元素都会出现两次，又因为两个相同的元素的异或为0。 a^a = 0</li><li>并且异或存在交换律，因此 a<sup>b</sup>a = b</li><li>因此本题中直接将所有元素进行异或即可。</li></ol><p><strong>代码</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">singleNumber</span><span class="params">(<span class="type">int</span>* nums, <span class="type">int</span> numsSize)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; numsSize; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        res ^= nums[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C语言 auto</title>
      <link href="/2020/08/26/C%E8%AF%AD%E8%A8%80-auto/"/>
      <url>/2020/08/26/C%E8%AF%AD%E8%A8%80-auto/</url>
      
        <content type="html"><![CDATA[<blockquote><p>auto 被解释为一个自动存储变量的关键字，也就是申明一块临时的变量内存。</p></blockquote><p>auto 这个关键字可能平时不会用到，因为在C语言中变量定义的时候默认修饰符就是auto。</p><p>auto关键字声明一个变量为自动变量，并且没有被声明为其它类型的变量都是自动变量。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">auto</span> <span class="type">int</span> b = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">auto</span> c ;</span><br><span class="line">    c = a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面代码中的a和b都是自动变量，只是b省略了auto。同时还可以使用auto声明一个变量，如果不增加类型修饰符，则默认为int类型，即上面的变量c为int类型的值。</p><h2 id="cc"><a class="markdownIt-Anchor" href="#cc"></a> C/C++</h2><p>在C<ins>中 auto是不一样的，在C</ins>中auto关键字是类型说明符，通过变量的初始值或者表达式中参与运算的数据类型来推断变量的类型。由于编译器需要推断变量或表达式的类型，所以，在C++中auto定义的变量必须初始化。</p>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>String to integer atoi</title>
      <link href="/2020/04/03/String-to-integer-atoi/"/>
      <url>/2020/04/03/String-to-integer-atoi/</url>
      
        <content type="html"><![CDATA[<p>C语言解法 100%/100%， 欢迎访问我的Github<a href="https://github.com/tzzs/LeetCode-CN">https://github.com/tzzs/LeetCode-CN</a> 。</p><ol><li>找到整数起始位置，即先去掉前面的空格，找到非空格有效字符，标志位置1，即整数计算开始</li><li>开始进行数字的求和，从读取到的第一个数字开始求和，到下一位的时候即为之前的求和<em>10 加上 当前值（例如前面值为1，当前位为5，则目前和为1</em>10+5=15，下一位为3，则求和为15*10+3，153）</li><li>在C语言中将字符转换为int可以直接通过ASCii码进行计算，字符0的ASCii码为48，一直到字符9的ASCii码为57，直接使用字符减去48即为字符对应的整数。</li><li>最终在求和过程中需要判断是否超出最大值，当你计算完可能已经越界，所以需要先判断在进行计算，即进行一个你想计算：先减去当前值，再除以10，判断当前值是否大于计算结果，如果大于则越界。</li><li>最终返回计算结果即可。</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">myAtoi</span><span class="params">(<span class="type">char</span> *str)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> res = <span class="number">0</span>, sflag = <span class="number">0</span>, pos = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>;; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">char</span> s = str[i];</span><br><span class="line">        <span class="comment">// printf(&quot;[%c]&quot;, s);</span></span><br><span class="line">        <span class="comment">// 未到起始字符</span></span><br><span class="line">        <span class="keyword">if</span> (!sflag) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s == <span class="number">32</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (s == <span class="string">&#x27;+&#x27;</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                sflag = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (s == <span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                sflag = <span class="number">1</span>;</span><br><span class="line">                pos = <span class="number">-1</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 计算当前字符值并加上res*10</span></span><br><span class="line">        <span class="keyword">if</span> (s &gt;= <span class="number">48</span> &amp;&amp; s &lt;= <span class="number">57</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            sflag = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (pos &lt; <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (res &gt;= (INT_MIN + (s - <span class="number">48</span>)) / <span class="number">10</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    res = res * <span class="number">10</span> - (s - <span class="number">48</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">return</span> INT_MIN;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (res &lt;= (INT_MAX - (s - <span class="number">48</span>)) / <span class="number">10</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    res = res * <span class="number">10</span> + (s - <span class="number">48</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">return</span> INT_MAX;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
          <category> Algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode CN </tag>
            
            <tag> Online Judge </tag>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo 构建静态页面文件时，index.html等文件中为空</title>
      <link href="/2020/03/04/Hexo-%E6%9E%84%E5%BB%BA%E9%9D%99%E6%80%81%E9%A1%B5%E9%9D%A2%E6%96%87%E4%BB%B6%E6%97%B6%EF%BC%8Cindex-html%E7%AD%89%E6%96%87%E4%BB%B6%E4%B8%AD%E4%B8%BA%E7%A9%BA/"/>
      <url>/2020/03/04/Hexo-%E6%9E%84%E5%BB%BA%E9%9D%99%E6%80%81%E9%A1%B5%E9%9D%A2%E6%96%87%E4%BB%B6%E6%97%B6%EF%BC%8Cindex-html%E7%AD%89%E6%96%87%E4%BB%B6%E4%B8%AD%E4%B8%BA%E7%A9%BA/</url>
      
        <content type="html"><![CDATA[<ol><li><p>增加了Pages的自动化构建后，发现页面访问不了了，以为和上次一样是本地的CDN抽风导致无法访问的。后来F12看了一下页面内容只有一行，也以为是加载的问题。去代码仓库看才发现真的只有懒加载的一行js加载代码。</p></li><li><p>后来以为是Travis环境的问题，因为我在本地测试可以正常编译构建成功。</p></li><li><p>在网上看到可能是由于nodejs package依赖的问题，使用命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm ls --depth 0</span><br></pre></td></tr></table></figure><p>并且让我真的找到了依赖不存在的问题，然而问题并没有这么简单 ￣へ￣, 安装了所有依赖项依旧有此问题.</p></li><li><p>在一个博客中看到他也出现了此问题,并且最终是由于thems为空导致的,我突然就想起来thems下面的Butterfly文件夹下的所有内容被Git识别成了一个大的文件,去远程仓库看果然是空的.</p></li><li><p>下面就是想办法让Git识别它, 后来发现主要原因就是Butterfly也是一个Git库, 当上层的Git认为它是一个仓库是就把他识别为了一整个文件.</p><p>解决办法就是将Butterfly下的.git文件删除掉,然后Git重新添加整个文件夹.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git rm --cache themes/Butterfly</span><br><span class="line">git add themes/Butterfly</span><br></pre></td></tr></table></figure><p>然后提交本次修改, 等待Travis自动构建部署完成后就能看到界面了.</p></li></ol><p>注: 可能由于浏览器缓存导致你看到的还是之前的空白页,可以按F12,将Network-Disable cache选中,这样它就不会从本机读取缓存了.</p>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
          <category> Blog </category>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows 增加多个可用SSH公钥</title>
      <link href="/2020/02/23/Windows-%E5%A2%9E%E5%8A%A0%E5%A4%9A%E4%B8%AA%E5%8F%AF%E7%94%A8SSH%E5%85%AC%E9%92%A5/"/>
      <url>/2020/02/23/Windows-%E5%A2%9E%E5%8A%A0%E5%A4%9A%E4%B8%AA%E5%8F%AF%E7%94%A8SSH%E5%85%AC%E9%92%A5/</url>
      
        <content type="html"><![CDATA[<p>之前由于使用Github Pages作为博客地址导致国内访问速度过慢，增加了腾讯云CDN依旧有大量数据缓存失败，所以更换了国内Coding作为博客镜像（之前用过Gitee Pages，但是普通用户无法自定义域名），在Hexo增加Coding仓库配置时，无法识别新增的SSH公钥，显示 <code>Permission denied (publickey)</code>, 看了一下Coding的官方论坛，他们根本没有解决办法😂，以下为出现问题的过程以及找到的解决办法。</p><h1 id="1-新增公钥"><a class="markdownIt-Anchor" href="#1-新增公钥"></a> 1. 新增公钥</h1><p>想要通过SSH访问Coding，需要先新增一个公钥，同时在Coding端增加公钥配置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ssh-agent -t rsa -C <span class="string">&quot;your.email@example.com&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Creates a new ssh key, using the provided email as a label</span></span><br><span class="line"><span class="comment"># Generating public/private rsa key pair.</span></span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/Users/you/.ssh/id_rsa): [Press enter]  // 推荐使用默认地址，如果以前的有用，就改为新的名字例如 id_ras_Coding_email@example.com 这个文件路径后面会用到</span><br><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase):   //此处点击 Enter 键即可，也可以填写密码，填写密码后每次使用 SSH 方式推送代码时都会要求输入密码，由于这个 Key 也不是用于军事目的，所以也无需设置密码。</span><br></pre></td></tr></table></figure><p>然后将生成的<code>.pub</code>公钥添加到Coding的公钥配置中，使用命令测试连接是否成功</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@e.coding.net</span><br></pre></td></tr></table></figure><p>输入 <code>yes</code> 允许新增host，如果显示已经通过则正常，但是我在验证过程中依旧显示</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Permission denied (publickey)</span><br></pre></td></tr></table></figure><h1 id="2-发现解决问题的方法"><a class="markdownIt-Anchor" href="#2-发现解决问题的方法"></a> 2. 发现解决问题的方法</h1><p>首先解释一下相关名词</p><h2 id="ssh"><a class="markdownIt-Anchor" href="#ssh"></a> SSH</h2><p>全称 Secure Shell ，一个允许两台电脑之间通过安全的连接进行数据交换的网络协议，通过加密博爱挣了数据库的保密性和完整性。SSH采用公钥加密技术来验证远程主机，以及允许远程主机验证用户。</p><h2 id="ssh-keygen"><a class="markdownIt-Anchor" href="#ssh-keygen"></a> ssh-keygen</h2><p>用于为SSH生成、管理和转换认证密钥，支持RSA和DSA两种认证密钥，生成密钥就是使用的此命令。</p><h2 id="ssh-agent"><a class="markdownIt-Anchor" href="#ssh-agent"></a> ssh-agent</h2><p>一种用于保存公钥身份验证所使用的私钥的程序，如果私钥交给ssh-agent保管，其它程序需要验证身份的时候可以将验证申请交给ssh-agent来完成整个认证过程。</p><hr /><p>同时ssh-agent也可能带来问题，在Windows下尝试使用SSH进行身份验证时就可能出现<code>Permission denied (publickey)</code> 的问题，<strong>主要可能的原因就是公钥未加载到ssh-agent中</strong>，<code>ssh-add -l</code>可以查看相应的ssh key是否被加载，这就到了下一个问题，ssh-add命令无法使用。</p><h1 id="3-发现ssh-add无法使用"><a class="markdownIt-Anchor" href="#3-发现ssh-add无法使用"></a> 3. 发现ssh-add无法使用</h1><p>输入命令</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-add -l</span><br></pre></td></tr></table></figure><p>就出现了 <code>Error connecting to agent: No such file or directory</code> 的问题。</p><p>这是由于Windows下的服务<strong>OpenSSH Authentication Agent</strong> 未启动的原因，</p><ol><li>Windows下键入 WIN+R 输入 services.msc</li><li>找到<strong>OpenSSH Authentication Agent</strong>服务，将启动类型修改为 <strong>自动</strong> ，同时启动此服务。</li></ol><p>此时 <code>ssh-add</code>命令就能够使用了。</p><h1 id="4-将coding的ssh-key添加到ssh-agent下"><a class="markdownIt-Anchor" href="#4-将coding的ssh-key添加到ssh-agent下"></a> 4. 将Coding的ssh key添加到ssh-agent下</h1><p>使用以下命令添加ssh key到ssh-agent下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-add /Users/you/.ssh/id_ras_Coding_email@example.com  <span class="comment"># 这就是上面生成ssh key时写的地址</span></span><br></pre></td></tr></table></figure><p>此时再通过 <code>ssh-add -l</code> 查看ssh-agent中管理的ssh key就有了新增的key。</p><h1 id="5-测试coding"><a class="markdownIt-Anchor" href="#5-测试coding"></a> 5. 测试Coding</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@e.coding.net</span><br></pre></td></tr></table></figure><p>此时就能验证成功了</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Warning: Permanently added <span class="string">&#x27;e.coding.net,(RSA) to the list of known hosts.</span></span><br><span class="line"><span class="string">Coding 提示: Hello Frank, You&#x27;</span>ve connected to Coding.net via SSH. This is a personal key.</span><br><span class="line">Frank，你好，你已经通过 SSH 协议认证 Coding.net 服务，这是一个个人公钥.</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> SSH </tag>
            
            <tag> Coding </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JDK8 环境下生成WebService Client的问题</title>
      <link href="/2020/02/10/JDK8-%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%94%9F%E6%88%90WebService-Client%E7%9A%84%E9%97%AE%E9%A2%98/"/>
      <url>/2020/02/10/JDK8-%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%94%9F%E6%88%90WebService-Client%E7%9A%84%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>在学习WebService的过程中，用JAVA实现了WebService。但是在使用IDEA生成WebService Client的时候出现了错误。</p><h2 id="环境"><a class="markdownIt-Anchor" href="#环境"></a> 环境</h2><p>JDK：openjdk version “1.8.0_41”</p><p>IDEA：IntelliJ IDEA 2019.3.2 (Ultimate Edition)</p><p>SYSTEM：Windows 10</p><h2 id="错误信息"><a class="markdownIt-Anchor" href="#错误信息"></a> 错误信息</h2><blockquote><p>java.lang.AssertionError: org.xml.sax.SAXParseException; systemId: jar:file:/path/to/glassfish/modules/jaxb-osgi.jar!/com/sun/tools/xjc/reader/xmlschema/bindinfo/binding.xsd; lineNumber: 52; columnNumber: 88; schema_reference: Failed to read schema document ‘<strong>xjc.xsd</strong>’, because ‘file’ access is not allowed due to restriction set by the <strong>accessExternalSchema</strong> property.</p></blockquote><h2 id="解决方案"><a class="markdownIt-Anchor" href="#解决方案"></a> 解决方案</h2><p>​错误信息中显示由于 accessExternalSchema 属性设置的限制而不允许 ‘file’ 访问，所以导致读取方案文档 ’xjc.xsd’ 失败。</p><p>​在搜索解决方法的过程中，发现 jaxb-xjc 在 JDK8 下存在此BUG.<a href="https://bugs.openjdk.java.net/browse/JDK-8020999?page=com.atlassian.jira.plugin.system.issuetabpanels%3Aall-tabpanel">xjc fails with permission exception in JDK 8 b98,b99 even if -disableXmlSecurity is set</a> 这是在 openjdk 的 JDK Bug System 提出的bug，并且显示官方已经修复此问题，但不知为何我新下载的Java版本还是有此问题。</p><p>​在XML解析器初始化之前，JDK会首先搜索系统的porperties配置文件寻找解析器的配置项，如果没有则会搜索<code>$JAVA_HOME/jre/lib</code> (Windows下为 <code>%JAVA_HOME%/jre/lib</code> ) 路径下的 <code>jaxp.properties</code> 文件，如果还没有就会在classpath上的 .jar 包中寻找，如果仍然没有则使用默认配置。</p><p>​对于此问题我们需要强行修改 accessExternalSchema 的属性设置，以下为问题的解决方案，在<code>$JAVA_HOME/jre/lib</code> (Windows下为 <code>%JAVA_HOME%/jre/lib</code> ) 路径下的<code>jaxp.properties</code>文件(不存在则新建)中新增一行：</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">javax.xml.accessExternalSchema</span> = <span class="string">all</span></span><br></pre></td></tr></table></figure><p>保存之后，重新去IDEA生成WebService Client即可成功。</p><h2 id="注"><a class="markdownIt-Anchor" href="#注"></a> 注</h2><h3 id="jaxb"><a class="markdownIt-Anchor" href="#jaxb"></a> JAXB</h3><p>​Java Architecture for XML Binding，简称JAXB，允许Java开发人员将Java类映射为XML表达方式。JAXB提供两种主要特性：将一个Java对象序列化为XML，以及方向操作，将XML解析成Java对象。</p><h3 id="xjc"><a class="markdownIt-Anchor" href="#xjc"></a> xjc</h3><p>​XML Java Complier，XML Java编译器，是JAXB的一部分，可以将XML模式或其它类型模式文件转换为Java类。其中JAXB的schemagen 工具与其作用相反，能够执行 xjc 的反向操作，通过一组标注的Java类创建一个XML模式。</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
          <category> WebService </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JDK8 </tag>
            
            <tag> WebService </tag>
            
            <tag> IDEA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>删除电脑文件夹中右键菜单-自定义文件夹选项</title>
      <link href="/2019/12/13/%E5%88%A0%E9%99%A4%E7%94%B5%E8%84%91%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%AD%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E4%BB%B6%E5%A4%B9%E9%80%89%E9%A1%B9/"/>
      <url>/2019/12/13/%E5%88%A0%E9%99%A4%E7%94%B5%E8%84%91%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%AD%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E4%BB%B6%E5%A4%B9%E9%80%89%E9%A1%B9/</url>
      
        <content type="html"><![CDATA[<ol><li>WIN+R 输入 regedit 打开注册表</li><li>找到一下路径 <code>计算机\HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\Explorer</code></li><li>右键新建DWORD<ul><li>数值名称：NoCustomizeWebView</li><li>数值数据：1</li><li>基数：十六进制</li></ul></li><li>保存，在任务管理器中找到 Windows资源管理器，右键-重新启动。</li></ol>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> 注册表 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows 10 启动项注册表位置</title>
      <link href="/2019/12/13/Windows-10-%E5%90%AF%E5%8A%A8%E9%A1%B9%E6%B3%A8%E5%86%8C%E8%A1%A8%E4%BD%8D%E7%BD%AE/"/>
      <url>/2019/12/13/Windows-10-%E5%90%AF%E5%8A%A8%E9%A1%B9%E6%B3%A8%E5%86%8C%E8%A1%A8%E4%BD%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<ol><li>WIN + R 输入 regedit 打开注册表</li><li>地址栏输入：<code>计算机\HKEY_CURRENT_USER\SOFTWARE\Microsoft\Windows\CurrentVersion\Run</code></li></ol>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> 注册表 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>删除电脑文件夹中右键菜单-授予访问权限选项</title>
      <link href="/2019/12/13/%E5%88%A0%E9%99%A4%E7%94%B5%E8%84%91%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%AD%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95-%E6%8E%88%E4%BA%88%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90%E9%80%89%E9%A1%B9/"/>
      <url>/2019/12/13/%E5%88%A0%E9%99%A4%E7%94%B5%E8%84%91%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%AD%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95-%E6%8E%88%E4%BA%88%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90%E9%80%89%E9%A1%B9/</url>
      
        <content type="html"><![CDATA[<h2 id="删除电脑文件夹中右键菜单-授予访问权限-选项"><a class="markdownIt-Anchor" href="#删除电脑文件夹中右键菜单-授予访问权限-选项"></a> 删除电脑文件夹中右键菜单-授予访问权限 选项</h2><ol><li>WIN+R 输入 regedit 打开注册表</li><li>找到一下路径  <code>计算机\HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Shell Extensions</code></li><li>在左侧菜单栏点击Shell Extensions</li><li>右键Shell Extensions - 新建 - 项 ，名称为 <code>Blocked</code></li><li>左侧菜单栏点击Blocked，在右侧空白地区 右键 - 新建 - 字符串值<ul><li>数据名称为：<code>&#123;F81E9010-6EA4-11CE-A7FF-00AA003CA9F6&#125;</code></li><li>数值数据空着即可</li></ul></li><li>保存，在任务管理器中找到 Windows资源管理器，右键-重新启动。</li></ol>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> 右键菜单 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SSH连接WSL</title>
      <link href="/2019/12/13/SSH%E8%BF%9E%E6%8E%A5WSL/"/>
      <url>/2019/12/13/SSH%E8%BF%9E%E6%8E%A5WSL/</url>
      
        <content type="html"><![CDATA[<h2 id="重装-openssh-server"><a class="markdownIt-Anchor" href="#重装-openssh-server"></a> 重装 openssh-server</h2><p>😭 之前用自带的 ssh 进行连接，发现根本连接不上，所以干脆直接进行重装</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove openssh-server</span><br><span class="line">sudo apt-get install openssh-server</span><br></pre></td></tr></table></figure><h2 id="修改-sshd_config-配置文件"><a class="markdownIt-Anchor" href="#修改-sshd_config-配置文件"></a> 修改 sshd_config 配置文件</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/ssh/sshd_config</span><br><span class="line"></span><br><span class="line">在文件中使用 /PasswordAuthentication</span><br><span class="line">将搜索到的这行取消注释 键盘输入i 进入insert模式，删除 # 即可</span><br></pre></td></tr></table></figure><h2 id="重启-ssh-服务"><a class="markdownIt-Anchor" href="#重启-ssh-服务"></a> 重启 ssh 服务</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service ssh restart</span><br></pre></td></tr></table></figure><h2 id="连接"><a class="markdownIt-Anchor" href="#连接"></a> 连接</h2><p>ssh 工具中连接配置</p><p>host: 127.0.0.1</p><p>port: 22</p><p>或者直接使用命令行</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh user@127.0.0.1</span><br></pre></td></tr></table></figure><h2 id="user为wsl中用户名然后回车如果第一次连接会有提示输入yes然后输入密码即可"><a class="markdownIt-Anchor" href="#user为wsl中用户名然后回车如果第一次连接会有提示输入yes然后输入密码即可"></a> user为WSL中用户名，然后回车，如果第一次连接会有提示，输入yes，然后输入密码即可</h2>]]></content>
      
      
      <categories>
          
          <category> WSL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> WSL </tag>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu 设置消失</title>
      <link href="/2019/08/18/Ubuntu-%E8%AE%BE%E7%BD%AE%E6%B6%88%E5%A4%B1/"/>
      <url>/2019/08/18/Ubuntu-%E8%AE%BE%E7%BD%AE%E6%B6%88%E5%A4%B1/</url>
      
        <content type="html"><![CDATA[<p>在之前由于空间不足，无法加载桌面时，我删除了自带软件thunder bird,后来再次进入系统时，发现系统中心的设置消失了。</p><p>可能是卸载软件时，同时将相关依赖删除了，导致设置丢失。</p><p>以下为解决方法，重新进行桌面的安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install ubuntu-desktop</span><br></pre></td></tr></table></figure><p>安装完成即可修复。</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> Ubuntu </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>【派大星的独白】一个关于正常人的故事</title>
      <link href="/2019/08/17/%E3%80%90%E6%B4%BE%E5%A4%A7%E6%98%9F%E7%9A%84%E7%8B%AC%E7%99%BD%E3%80%91%E4%B8%80%E4%B8%AA%E5%85%B3%E4%BA%8E%E6%AD%A3%E5%B8%B8%E4%BA%BA%E7%9A%84%E6%95%85%E4%BA%8B/"/>
      <url>/2019/08/17/%E3%80%90%E6%B4%BE%E5%A4%A7%E6%98%9F%E7%9A%84%E7%8B%AC%E7%99%BD%E3%80%91%E4%B8%80%E4%B8%AA%E5%85%B3%E4%BA%8E%E6%AD%A3%E5%B8%B8%E4%BA%BA%E7%9A%84%E6%95%85%E4%BA%8B/</url>
      
        <content type="html"><![CDATA[<blockquote><p>转载自 哔哩哔哩 <a href="https://space.bilibili.com/30222764">@洛温阿特金森</a></p><p>视频地址：<a href="https://www.bilibili.com/video/av60731116/">https://www.bilibili.com/video/av60731116/</a></p></blockquote><iframe src="//player.bilibom/player.html?aili.cid=60731116&cid=106015992&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>]]></content>
      
      
      <categories>
          
          <category> 视频 </category>
          
          <category> bilibili </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linux Ubuntu开机显示LOGO后逐渐黑屏</title>
      <link href="/2019/08/16/Linux-Ubuntu%E5%BC%80%E6%9C%BA%E6%98%BE%E7%A4%BALOGO%E5%90%8E%E9%80%90%E6%B8%90%E9%BB%91%E5%B1%8F/"/>
      <url>/2019/08/16/Linux-Ubuntu%E5%BC%80%E6%9C%BA%E6%98%BE%E7%A4%BALOGO%E5%90%8E%E9%80%90%E6%B8%90%E9%BB%91%E5%B1%8F/</url>
      
        <content type="html"><![CDATA[<p>之前在VMware中安装了Ubuntu用于开发，只分配了20G的空间，这两天一直提醒硬盘空间不足，未产生影响就没有扩充空间。</p><p>今天虚拟机重启后突然无法进入图形界面，网上看了很多方法，我开始也以为是桌面环境被损坏，修改了很多配置仍未解决，最后才看到可能是磁盘不足无法加载的问题。</p><ol><li>无法进入图形界面时，可以使用CRTL+ALT+F2进入命令行模式。</li><li>输入用户名和密码，登录系统</li><li>查找无用的软件包或大文件进行删除，保证有剩余可用空间</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">find /var/ -<span class="built_in">type</span> f -size +100M  -print0 | xargs -0 <span class="built_in">ls</span> -lh <span class="comment"># 查找大于100M的文件并进行排序</span></span><br><span class="line">或</span><br><span class="line">find . -<span class="built_in">type</span> f -size +50M <span class="comment"># 查找大于50M的文件</span></span><br></pre></td></tr></table></figure><span id="more"></span><p>我发现找到的很多是安装的无用软件，一下为删除方式。</p><ol><li>使用<code>dkpg -l | grep -i &quot;文件名&quot;</code> 查找对应的软件包</li><li>软件删除 <code>apt remove 包名</code></li></ol><p>查看剩余的空间</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">df</span></span><br></pre></td></tr></table></figure><p>有剩余空间后，重新启动即可。</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>解决Linux下Oracle客户端无法连接Windows下Oracle Server端问题的方法</title>
      <link href="/2019/08/13/%E8%A7%A3%E5%86%B3Linux%E4%B8%8BOracle%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%97%A0%E6%B3%95%E8%BF%9E%E6%8E%A5Windows%E4%B8%8BOracle-Server%E7%AB%AF%E9%97%AE%E9%A2%98%E7%9A%84%E6%96%B9%E6%B3%95/"/>
      <url>/2019/08/13/%E8%A7%A3%E5%86%B3Linux%E4%B8%8BOracle%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%97%A0%E6%B3%95%E8%BF%9E%E6%8E%A5Windows%E4%B8%8BOracle-Server%E7%AB%AF%E9%97%AE%E9%A2%98%E7%9A%84%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h2 id="查看service_name"><a class="markdownIt-Anchor" href="#查看service_name"></a> 查看SERVICE_NAME</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在windows Oracle服务端启动SQLPLUS</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">执行以下命令</span></span><br><span class="line"><span class="meta prompt_">SQL&gt; </span><span class="language-bash"><span class="keyword">select</span> value from v<span class="variable">$parameter</span> <span class="built_in">where</span> name=<span class="string">&#x27;service_names&#x27;</span>;</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">以下为执行结果</span></span><br><span class="line">VALUE</span><br><span class="line">----------------------------------------------------------------------------</span><br><span class="line">orcl.microdone.cn</span><br></pre></td></tr></table></figure><span id="more"></span><h2 id="修改linux下-tnsnamesora"><a class="markdownIt-Anchor" href="#修改linux下-tnsnamesora"></a> 修改Linux下 tnsnames.ora</h2><p># 将SERVICE_NAME 修改为上面查询的结果</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /usr/lib/oracle/12.2/client64/network/admin/tnsnames.ora</span><br><span class="line"></span><br><span class="line">ORCL =</span><br><span class="line">  (DESCRIPTION =</span><br><span class="line">    (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.137.1)(PORT = 1521))</span><br><span class="line">    (CONNECT_DATA =</span><br><span class="line">      (SERVER = DEDICATED)</span><br><span class="line">      (SERVICE_NAME = orcl.microdone.cn)</span><br><span class="line">    )</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将SERVICE_NAME 修改为上面查询的结果</span></span><br></pre></td></tr></table></figure><h2 id="查看oracle数据库实例名称"><a class="markdownIt-Anchor" href="#查看oracle数据库实例名称"></a> 查看Oracle数据库实例名称</h2><ol><li>找到Windows下Oracle安装目录</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E:\app\TZZ\virtual\product\12.2.0\dbhome_1\</span><br></pre></td></tr></table></figure><ol start="2"><li><p>进入 <code>bin</code> 文件夹中</p></li><li><p>找到  <code>lsnrctl.exe</code> 可执行文件，<strong>右键使用管理员身份打开</strong></p></li><li><p>执行<code>status</code>命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">LSNRCTL&gt; status</span><br><span class="line">正在连接到 (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=windows10.microdone.cn)(PORT=1521)))</span><br><span class="line">LISTENER 的 STATUS</span><br><span class="line">------------------------</span><br><span class="line">别名                      LISTENER</span><br><span class="line">版本                      TNSLSNR for 64-bit Windows: Version 12.2.0.1.0 - Production</span><br><span class="line">启动日期                  13-8月 -2019 01:11:12</span><br><span class="line">正常运行时间              0 天 0 小时 19 分 35 秒</span><br><span class="line">跟踪级别                  off</span><br><span class="line">安全性                    ON: Local OS Authentication</span><br><span class="line">SNMP                      OFF</span><br><span class="line">监听程序参数文件          E:\app\TZZ\virtual\product\12.2.0\dbhome_1\network\admin\listener.ora</span><br><span class="line">监听程序日志文件          E:\app\TZZ\virtual\diag\tnslsnr\DESKTOP-8P2KP7P\listener\alert\log.xml</span><br><span class="line">监听端点概要...</span><br><span class="line">  (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=DESKTOP-8P2KP7P)(PORT=1521)))</span><br><span class="line">  (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(PIPENAME=\\.\pipe\EXTPROC1521ipc)))</span><br><span class="line">服务摘要..</span><br><span class="line">服务 &quot;157cdf77ee1347ef9cb52c8ccc569098.microdone.cn&quot; 包含 1 个实例。</span><br><span class="line">  实例 &quot;orcl&quot;, 状态 READY, 包含此服务的 1 个处理程序...</span><br><span class="line">服务 &quot;CLRExtProc&quot; 包含 1 个实例。</span><br><span class="line">  实例 &quot;CLRExtProc&quot;, 状态 UNKNOWN, 包含此服务的 1 个处理程序...</span><br><span class="line">服务 &quot;ORCL&quot; 包含 1 个实例。</span><br><span class="line">  实例 &quot;ORCL&quot;, 状态 UNKNOWN, 包含此服务的 2 个处理程序...</span><br><span class="line">服务 &quot;db.microdone.cn&quot; 包含 1 个实例。</span><br><span class="line">  实例 &quot;orcl&quot;, 状态 READY, 包含此服务的 1 个处理程序...</span><br><span class="line">服务 &quot;orcl.microdone.cn&quot; 包含 1 个实例。</span><br><span class="line">  实例 &quot;orcl&quot;, 状态 READY, 包含此服务的 1 个处理程序...</span><br><span class="line">服务 &quot;orclXDB.microdone.cn&quot; 包含 1 个实例。</span><br><span class="line">  实例 &quot;orcl&quot;, 状态 READY, 包含此服务的 1 个处理程序...</span><br><span class="line">命令执行成功</span><br></pre></td></tr></table></figure><p>最后的服务摘要内，实例后面跟的即为实例名称，即 orcl 和 ORCL 。</p></li></ol><h2 id="修改windows下-oracle-server端监听配置文件"><a class="markdownIt-Anchor" href="#修改windows下-oracle-server端监听配置文件"></a> 修改Windows下 Oracle Server端监听配置文件</h2><ol><li>找到Windows下Oracle安装目录</li></ol><p><code>E:\app\TZZ\virtual\product\12.2.0\dbhome_1\</code></p><ol start="2"><li>移动到 network/admin下</li></ol><p><code>E:\app\TZZ\virtual\product\12.2.0\dbhome_1\network\admin</code></p><ol start="3"><li><p>编辑 <code>listener.ora</code>文件，此为服务端监听的配置文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># listener.ora Network Configuration File: E:\app\TZZ\virtual\product\12.2.0\dbhome_1\network\admin\listener.ora</span><br><span class="line"># Generated by Oracle configuration tools.</span><br><span class="line"></span><br><span class="line">SID_LIST_LISTENER =</span><br><span class="line">  (SID_LIST =</span><br><span class="line">    (SID_DESC =</span><br><span class="line">      (SID_NAME = CLRExtProc)</span><br><span class="line">      (ORACLE_HOME = E:\app\TZZ\virtual\product\12.2.0\dbhome_1)</span><br><span class="line">      (PROGRAM = extproc)</span><br><span class="line">      (ENVS = &quot;EXTPROC_DLLS=ONLY:E:\app\TZZ\virtual\product\12.2.0\dbhome_1\bin\oraclr12.dll&quot;)</span><br><span class="line">    )</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">LISTENER =</span><br><span class="line">  (DESCRIPTION_LIST =</span><br><span class="line">    (DESCRIPTION =</span><br><span class="line">      (ADDRESS = (PROTOCOL = TCP)(HOST = windows10.microdone.cn)(PORT = 1521))</span><br><span class="line">      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))</span><br><span class="line">    )</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>在文件中添加以下内容，其中可根据自己需要进行添加，将其添加<code>SID_LIST =</code>后面即可，每个<code>(SID_DESC = )</code> 都为一个单独的实例配置，Linux下想要连接哪个实例，就添加哪个即可。其中SID_NAME 与 GLOBAL_DBNAME 修改为连接的实例名称，添加到后面。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(SID_DESC =</span><br><span class="line">     (SID_NAME = ORCL)</span><br><span class="line">     (ORACLE_HOME = E:\app\TZZ\virtual\product\12.2.0\dbhome_1)</span><br><span class="line">     (GLOBAL_DBNAME = ORCL)</span><br><span class="line">   )(SID_DESC =</span><br><span class="line">     (SID_NAME = orcl)</span><br><span class="line">     (ORACLE_HOME = E:\app\TZZ\virtual\product\12.2.0\dbhome_1)</span><br><span class="line">     (GLOBAL_DBNAME = orcl)</span><br><span class="line">   )</span><br></pre></td></tr></table></figure><p>最终文件为</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"># listener.ora Network Configuration File: E:\app\TZZ\virtual\product\12.2.0\dbhome_1\network\admin\listener.ora</span><br><span class="line"># Generated by Oracle configuration tools.</span><br><span class="line"></span><br><span class="line">SID_LIST_LISTENER =</span><br><span class="line">  (SID_LIST =</span><br><span class="line">    (SID_DESC =</span><br><span class="line">      (SID_NAME = CLRExtProc)</span><br><span class="line">      (ORACLE_HOME = E:\app\TZZ\virtual\product\12.2.0\dbhome_1)</span><br><span class="line">      (PROGRAM = extproc)</span><br><span class="line">      (ENVS = &quot;EXTPROC_DLLS=ONLY:E:\app\TZZ\virtual\product\12.2.0\dbhome_1\bin\oraclr12.dll&quot;)</span><br><span class="line">    )(SID_DESC =</span><br><span class="line">      (SID_NAME = ORCL)</span><br><span class="line">      (ORACLE_HOME = E:\app\TZZ\virtual\product\12.2.0\dbhome_1)</span><br><span class="line">      (GLOBAL_DBNAME = ORCL)</span><br><span class="line">    )(SID_DESC =</span><br><span class="line">      (SID_NAME = orcl)</span><br><span class="line">      (ORACLE_HOME = E:\app\TZZ\virtual\product\12.2.0\dbhome_1)</span><br><span class="line">      (GLOBAL_DBNAME = orcl)</span><br><span class="line">    )</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">LISTENER =</span><br><span class="line">  (DESCRIPTION_LIST =</span><br><span class="line">    (DESCRIPTION =</span><br><span class="line">      (ADDRESS = (PROTOCOL = TCP)(HOST = windows10.microdone.cn)(PORT = 1521))</span><br><span class="line">      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))</span><br><span class="line">    )</span><br><span class="line">  )</span><br></pre></td></tr></table></figure></li></ol><h2 id="重新启动监听服务"><a class="markdownIt-Anchor" href="#重新启动监听服务"></a> 重新启动监听服务</h2><ol><li>找到Windows下Oracle安装目录</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E:\app\TZZ\virtual\product\12.2.0\dbhome_1\</span><br></pre></td></tr></table></figure><ol start="2"><li><p>进入 <code>bin</code> 文件夹中</p></li><li><p>找到  <code>lsnrctl.exe</code> 可执行文件，<strong>右键使用管理员身份打开</strong></p><p>执行以下命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">LSNRCTL&gt; </span><span class="language-bash">stop</span></span><br><span class="line"><span class="meta prompt_">LSNRCTL&gt; </span><span class="language-bash">start</span></span><br></pre></td></tr></table></figure><p>等待命令执行完…</p></li><li><p>WIN+R  输入 <code>services.msc</code> 打开服务管理器</p></li><li><p>启动 Oracle 所有相关服务</p></li></ol><h2 id="linux下连接测试"><a class="markdownIt-Anchor" href="#linux下连接测试"></a> Linux下连接测试</h2><p>在Linux下执行以下命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlplus c<span class="comment">##oracle/oracle@192.168.137.1:1521/orcl</span></span><br></pre></td></tr></table></figure><p>将其中内容替换为自己的内容：</p><ul><li>c##oracle 用户名</li><li>oracle 密码</li><li>192.168.137.1:1521 Oracle服务端IP：Port</li><li>orcl 实例名称</li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> Oracle </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Linux下安装Oracle客户端</title>
      <link href="/2019/08/12/Linux%E4%B8%8B%E5%AE%89%E8%A3%85Oracle%E5%AE%A2%E6%88%B7%E7%AB%AF/"/>
      <url>/2019/08/12/Linux%E4%B8%8B%E5%AE%89%E8%A3%85Oracle%E5%AE%A2%E6%88%B7%E7%AB%AF/</url>
      
        <content type="html"><![CDATA[<h3 id="下载rpm包"><a class="markdownIt-Anchor" href="#下载rpm包"></a> 下载RPM包</h3><p>RPM版本： 需要手动安装</p><p>ZIP版本： 解压配置即可使用</p><p>oracle-instantclient12.2-basic-12.2.0.1.0-1.x86_64.rpm # <strong>基础包</strong></p><p>oracle-instantclient12.2-sqlplus-12.2.0.1.0-1.x86_64.rpm # <strong>SQLplus</strong></p><p>oracle-instantclient12.2-precomp-12.2.0.1.0-1.x86_64.rpm # <strong>预编译工具</strong></p><span id="more"></span><h3 id="安装alien"><a class="markdownIt-Anchor" href="#安装alien"></a> 安装Alien</h3><p># 如果已安装可以跳过</p><p>Ubuntu 默认包为deb格式，无法直接使用rpm安装RPM包，需要安装 <code>alien</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt instal alien</span><br></pre></td></tr></table></figure><h3 id="安装依赖"><a class="markdownIt-Anchor" href="#安装依赖"></a> 安装依赖</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install libaio*</span><br></pre></td></tr></table></figure><h3 id="安装rpm包"><a class="markdownIt-Anchor" href="#安装rpm包"></a> 安装RPM包</h3><p>可以使用通配符进行安装</p><p>默认安装位置为：/usr/lib/oracle/12.2/client64</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo alien -i oracle-*.rpm</span><br></pre></td></tr></table></figure><h3 id="配置环境变量"><a class="markdownIt-Anchor" href="#配置环境变量"></a> 配置环境变量</h3><p><strong>BUG</strong>:在非root用户下，<code>/etc/profile</code>中的环境变量对当前用户不生效。</p><p>建议两个文件下都添加.</p><p><code>$HOME/.bashrc</code> 路径下为当前用户环境变量</p><p><code>/etc/profile</code> 为全局环境变量，对所有用户生效</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/profile</span><br><span class="line">vi ~/.bashrc</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 添加环境变量</span><br><span class="line">export ORACLE_HOME=/usr/lib/oracle/12.2/client64  </span><br><span class="line">export ORACLE_BASE=/usr/lib/oracle/12.2</span><br><span class="line">export LD_LIBRARY_PATH=$ORACLE_HOME/lib:$LD_LIBRARY_PATH # 共享库</span><br><span class="line">export PATH=$ORACLE_HOME/bin:$PATH # 可执行文件路径</span><br><span class="line">export NLS_LANG=&quot;AMERICAN_AMERICA.AL32UTF8&quot; # 语言及文件编码</span><br><span class="line">export NLS_DATE_FORMAT=&quot;YYYY-MM-DD HH24:MI:SS&quot; # 时间格式</span><br><span class="line">export NLS_TIMESTAMP_FORMAT=&quot;YYYY-MM-DD HH24:MI:SS&quot; # </span><br><span class="line">export TNS_ADMIN=$ORACLE_HOME/network/admin # 多个Oracle版本时指向TNS配置文件位置，仅有一个Oracle版本时可不加</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 添加环境变量 无注释版</span><br><span class="line">export ORACLE_HOME=/usr/lib/oracle/12.2/client64</span><br><span class="line">export ORACLE_BASE=/usr/lib/oracle/12.2</span><br><span class="line">export LD_LIBRARY_PATH=$ORACLE_HOME/lib:$LD_LIBRARY_PATH</span><br><span class="line">export PATH=$ORACLE_HOME/bin:$PATH</span><br><span class="line">export NLS_LANG=&quot;AMERICAN_AMERICA.AL32UTF8&quot;</span><br><span class="line">export NLS_DATE_FORMAT=&quot;YYYY-MM-DD HH24:MI:SS&quot;</span><br><span class="line">export NLS_TIMESTAMP_FORMAT=&quot;YYYY-MM-DD HH24:MI:SS&quot;</span><br><span class="line">export TNS_ADMIN=$ORACLE_HOME/network/admin</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 使环境变量生效</span><br><span class="line">source /etc/profile</span><br><span class="line">. .bashrc</span><br><span class="line"></span><br><span class="line"># 查看环境变量</span><br><span class="line">echo $PATH </span><br><span class="line"></span><br><span class="line"># 如果含有Oracle/lib的路径却无法正常使用或未找到，重新启动即可生效</span><br></pre></td></tr></table></figure><h3 id="添加配置"><a class="markdownIt-Anchor" href="#添加配置"></a> 添加配置</h3><p>以下操作需要管理员权限</p><ol><li>在<code>$ORACLE_HOME</code>路径下创建<code>network/admin</code>目录</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p /usr/lib/oracle/12.2/client64/network/admin</span><br></pre></td></tr></table></figure><ol start="2"><li>在<code>admin</code>目录下创建 <code>tnsnames.ora</code> 文件</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/lib/oracle/12.2/client64/network/admin</span><br><span class="line">touch tnsnames.ora</span><br></pre></td></tr></table></figure><ol start="3"><li>配置<code>tnsnames.ora</code></li></ol><p>结尾为查看虚拟机适配器IP地址方法</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">vim tnsnames.ora</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 添加以下内容</span><br><span class="line">ORCL =</span><br><span class="line">  (DESCRIPTION =</span><br><span class="line">    (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.137.1)(PORT = 1521))</span><br><span class="line">    (CONNECT_DATA =</span><br><span class="line">      (SERVER = DEDICATED)</span><br><span class="line">      (SERVICE_NAME = orcl)</span><br><span class="line">    )</span><br><span class="line">  )</span><br></pre></td></tr></table></figure><h3 id="测试连接"><a class="markdownIt-Anchor" href="#测试连接"></a> 测试连接</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 测试$ORACLE_HOME能否正常输出</span><br><span class="line">echo $ORACLE_HOME</span><br><span class="line"># 如果不能，执行以下命令或重新启动</span><br><span class="line">source /etc/profile</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 测试远程连接</span><br><span class="line">sqlplus /nolog</span><br><span class="line"></span><br><span class="line"># 如果能够正常登录，则已完成安装</span><br></pre></td></tr></table></figure><h3 id="补充内容"><a class="markdownIt-Anchor" href="#补充内容"></a> 补充内容</h3><h4 id="查看windows下虚拟机网络适配机本机ip地址"><a class="markdownIt-Anchor" href="#查看windows下虚拟机网络适配机本机ip地址"></a> 查看windows下虚拟机网络适配机本机IP地址</h4><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">ipconfig</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 找到下面的 VMware Network Adapter IPv4地址即为 <span class="number">192</span>.<span class="number">168</span>.<span class="number">137</span>.<span class="number">1</span></span><br><span class="line"># 默认适配器为VMnet8</span><br><span class="line">Ethernet adapter VMware Network Adapter VMnet8:</span><br><span class="line"></span><br><span class="line">   Connection-specific DNS Suffix  . :</span><br><span class="line">   Link-local IPv6 Address . . . . . : fe80::<span class="number">24</span>b2:a7bd:f00c:bd48%<span class="number">7</span></span><br><span class="line">   IPv4 Address. . . . . . . . . . . : <span class="number">192</span>.<span class="number">168</span>.<span class="number">137</span>.<span class="number">1</span></span><br><span class="line">   Subnet Mask . . . . . . . . . . . : <span class="number">255</span>.<span class="number">255</span>.<span class="number">255</span>.<span class="number">0</span></span><br><span class="line">   Default Gateway . . . . . . . . . :</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> Oracle </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Fliqlo 翻页时钟屏保</title>
      <link href="/2019/07/20/Fliqlo-%E7%BF%BB%E9%A1%B5%E6%97%B6%E9%92%9F%E5%B1%8F%E4%BF%9D/"/>
      <url>/2019/07/20/Fliqlo-%E7%BF%BB%E9%A1%B5%E6%97%B6%E9%92%9F%E5%B1%8F%E4%BF%9D/</url>
      
        <content type="html"><![CDATA[<p>官方网址：<a href="https://fliqlo.com/">https://fliqlo.com/</a></p><p><img src="https://cos5-1255991898.cos.ap-chongqing.myqcloud.com/tk/%E6%89%B9%E6%B3%A8%202019-07-20%20165554.jpg" alt="Fliqlo" /></p>]]></content>
      
      
      <categories>
          
          <category> 推荐 </category>
          
          <category> 应用 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Firefox Monitor</title>
      <link href="/2019/06/26/Firefox-Monitor/"/>
      <url>/2019/06/26/Firefox-Monitor/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cos5-1255991898.cos.ap-chongqing.myqcloud.com/tk/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20190626225922.png" alt="Firefox Monitor" /></p><ul><li><p>在Firefox Monitor中可以提供订阅邮件的信息泄露事件的提醒，添加电子邮件地址后，在发生密码外泄事件后，会发送泄露提醒。</p></li><li><p>可以在外泄事件中，查看最近的信息泄露事件</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 推荐 </category>
          
          <category> Firefox </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>springboot thymeleaf不渲染页面返回字符串</title>
      <link href="/2019/03/30/springboot-thymeleaf%E4%B8%8D%E6%B8%B2%E6%9F%93%E9%A1%B5%E9%9D%A2%E8%BF%94%E5%9B%9E%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
      <url>/2019/03/30/springboot-thymeleaf%E4%B8%8D%E6%B8%B2%E6%9F%93%E9%A1%B5%E9%9D%A2%E8%BF%94%E5%9B%9E%E5%AD%97%E7%AC%A6%E4%B8%B2/</url>
      
        <content type="html"><![CDATA[<p>错误信息：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">This application has no explicit mapping for /error, so you are seeing this as a fallback.</span><br><span class="line"></span><br><span class="line">Sat Mar 30 01:59:07 CST 2019</span><br><span class="line"></span><br><span class="line">There was an unexpected error (type=Internal Server Error, status=500).</span><br><span class="line"></span><br><span class="line">Error resolving template [index], template might not exist or might not be accessible by any of the configured Template Resolvers</span><br><span class="line"></span><br><span class="line">org.thymeleaf.exceptions.TemplateInputException: Error resolving template [index], template might not exist or might not be accessible by any of the configured Template Resolvers</span><br></pre></td></tr></table></figure><h1 id="restcontroller-与-controller"><a class="markdownIt-Anchor" href="#restcontroller-与-controller"></a> @RestController 与 @Controller</h1>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>bing2 网站页面加载优化</title>
      <link href="/2019/03/24/bing2-%E7%BD%91%E7%AB%99%E9%A1%B5%E9%9D%A2%E5%8A%A0%E8%BD%BD%E4%BC%98%E5%8C%96/"/>
      <url>/2019/03/24/bing2-%E7%BD%91%E7%AB%99%E9%A1%B5%E9%9D%A2%E5%8A%A0%E8%BD%BD%E4%BC%98%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<p>网站：<a href="http://bing.tzz6.xyz">http://bing.tzz6.xyz</a></p><p>编写的最初版本的页面加载速度过慢，而且要等待主页所有图片都加载完成才能进入网站主页，所以后续版本对页面的加载速度进行了优化。由于主页是使用瀑布流方式进行展示的，所以最先加入了懒加载的显示方式来保证缩短进入主页的加载时间。加入图片懒加载后，主页中放置的原图同样需要很长的请求下载时间，所以后来修改为了生成缩略图进行展示，然后主页启用腾讯CDN加速，加快图片加载速度。</p><span id="more"></span><h1 id="懒加载"><a class="markdownIt-Anchor" href="#懒加载"></a> 懒加载</h1><p>参考链接：<a href="https://cloud.tencent.com/developer/article/1139722">https://cloud.tencent.com/developer/article/1139722</a></p><p>实现方式：首先将页面上的图片的 src 属性设为空字符串，而图片的真实路径则设置在data-original属性中，当页面滚动的时候需要去监听scroll事件，在scroll事件的回调中，判断我们的懒加载的图片是否进入可视区域,如果图片在可视区内将图片的 src 属性设置为data-original 的值，这样就可以实现延迟加载。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;lazyload&quot;</span> <span class="attr">lazyload</span>=<span class="string">&quot;true&quot;</span> <span class="attr">data-original</span>=<span class="string">&#x27;imagePath&#x27;</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> viewHeight = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span>;<span class="comment">//可视区高度</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">lazyload</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> eles = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;img[data-original][lazyload]&#x27;</span>)</span><br><span class="line">    <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">forEach</span>.<span class="title function_">call</span>(eles, <span class="keyword">function</span> (<span class="params">item, index</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> rect;</span><br><span class="line">        <span class="keyword">if</span> (item.<span class="property">dataset</span>.<span class="property">original</span> === <span class="string">&quot;&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        rect = item.<span class="title function_">getBoundingClientRect</span>();<span class="comment">//获得页面中某个元素的左，上，右，下相较于浏览器视窗的位置</span></span><br><span class="line">        <span class="keyword">if</span> (rect.<span class="property">bottom</span> &gt;= <span class="number">0</span> &amp;&amp; rect.<span class="property">top</span> &lt; viewHeight) &#123;</span><br><span class="line">            !<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> img = <span class="keyword">new</span> <span class="title class_">Image</span>();</span><br><span class="line">                img.<span class="property">src</span> = item.<span class="property">dataset</span>.<span class="property">original</span>;</span><br><span class="line">                img.<span class="property">onload</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                    item.<span class="property">src</span> = img.<span class="property">src</span>;</span><br><span class="line">                &#125;;</span><br><span class="line">                item.<span class="title function_">removeAttribute</span>(<span class="string">&quot;data-original&quot;</span>);<span class="comment">//下次不再遍历</span></span><br><span class="line">                item.<span class="title function_">removeAttribute</span>(<span class="string">&quot;lazyload&quot;</span>);</span><br><span class="line">            &#125;()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">lazyload</span>();</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;scroll&quot;</span>, lazyload)</span><br></pre></td></tr></table></figure><h1 id="生成缩略图"><a class="markdownIt-Anchor" href="#生成缩略图"></a> 生成缩略图</h1><p>使用python中的pillow库来生成对应的缩略图。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"></span><br><span class="line">img = Image.<span class="built_in">open</span>(file_path)</span><br><span class="line">w, h = img.size</span><br><span class="line">img.thumbnail(((<span class="built_in">int</span>)(w / <span class="number">4</span>), (<span class="built_in">int</span>)(h / <span class="number">4</span>)))</span><br><span class="line">img.save(file_path)</span><br></pre></td></tr></table></figure><p>以下是<code>thumbnail()</code>函数实现方式:</p><p>缩略图函数可以传入两个参数，第一个为生成的缩略图大小，但不能大于原图大小；第二个为缩略图生成的采样方式，提供四种方式：（此参数可不选，默认为 BICUBIC )</p><p>​NEAREST：最近滤波。从输入图像中选取最近的像素作为输出像素。它忽略了所有其他的像素。</p><p>​BILINEAR：双线性滤波。在输入图像的2x2矩阵上进行线性插值。注意：PIL的当前版本，做下采样时该滤波器使用了固定输入模板。</p><p>​BICUBIC：双立方滤波。在输入图像的4x4矩阵上进行立方插值。注意：PIL的当前版本，做下采样时该滤波器使用了固定输入模板。</p><p>​ANTIALIAS：平滑滤波。这是PIL 1.1.3版本中新的滤波器。对所有可以影响输出像素的输入像素进行高质量的重采样滤波，以计算输出像素值。在当前的PIL版本中，这个滤波器只用于改变尺寸和缩略图方法。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">thumbnail</span>(<span class="params">self, size, resample=BICUBIC</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Make this image into a thumbnail.  This method modifies the</span></span><br><span class="line"><span class="string">    image to contain a thumbnail version of itself, no larger than</span></span><br><span class="line"><span class="string">    the given size.  This method calculates an appropriate thumbnail</span></span><br><span class="line"><span class="string">    size to preserve the aspect of the image, calls the</span></span><br><span class="line"><span class="string">    :py:meth:`~PIL.Image.Image.draft` method to configure the file reader</span></span><br><span class="line"><span class="string">    (where applicable), and finally resizes the image.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Note that this function modifies the :py:class:`~PIL.Image.Image`</span></span><br><span class="line"><span class="string">    object in place.  If you need to use the full resolution image as well,</span></span><br><span class="line"><span class="string">    apply this method to a :py:meth:`~PIL.Image.Image.copy` of the original</span></span><br><span class="line"><span class="string">    image.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    :param size: Requested size.</span></span><br><span class="line"><span class="string">    :param resample: Optional resampling filter.  This can be one</span></span><br><span class="line"><span class="string">       of :py:attr:`PIL.Image.NEAREST`, :py:attr:`PIL.Image.BILINEAR`,</span></span><br><span class="line"><span class="string">       :py:attr:`PIL.Image.BICUBIC`, or :py:attr:`PIL.Image.LANCZOS`.</span></span><br><span class="line"><span class="string">       If omitted, it defaults to :py:attr:`PIL.Image.BICUBIC`.</span></span><br><span class="line"><span class="string">       (was :py:attr:`PIL.Image.NEAREST` prior to version 2.5.0)</span></span><br><span class="line"><span class="string">    :returns: None</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># preserve aspect ratio</span></span><br><span class="line">    x, y = self.size</span><br><span class="line">    <span class="keyword">if</span> x &gt; size[<span class="number">0</span>]:</span><br><span class="line">        y = <span class="built_in">int</span>(<span class="built_in">max</span>(y * size[<span class="number">0</span>] / x, <span class="number">1</span>))</span><br><span class="line">        x = <span class="built_in">int</span>(size[<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">if</span> y &gt; size[<span class="number">1</span>]:</span><br><span class="line">        x = <span class="built_in">int</span>(<span class="built_in">max</span>(x * size[<span class="number">1</span>] / y, <span class="number">1</span>))</span><br><span class="line">        y = <span class="built_in">int</span>(size[<span class="number">1</span>])</span><br><span class="line">    size = x, y</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> size == self.size:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    self.draft(<span class="literal">None</span>, size)</span><br><span class="line"></span><br><span class="line">    im = self.resize(size, resample)</span><br><span class="line"></span><br><span class="line">    self.im = im.im</span><br><span class="line">    self.mode = im.mode</span><br><span class="line">    self._size = size</span><br><span class="line"></span><br><span class="line">    self.readonly = <span class="number">0</span></span><br><span class="line">    self.pyaccess = <span class="literal">None</span></span><br></pre></td></tr></table></figure><h1 id="cdn加速"><a class="markdownIt-Anchor" href="#cdn加速"></a> CDN加速</h1><p>项目中使用<a href="https://cloud.tencent.com/product/cdn">腾讯CDN</a>，为图片展示首页进行加速，目前首页加载速度本地测试 1.5s 以内。</p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> bing2 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bing2 </tag>
            
            <tag> 懒加载 </tag>
            
            <tag> CDN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据库 内连接 左外连接 右外连接 全外连接</title>
      <link href="/2019/03/23/%E6%95%B0%E6%8D%AE%E5%BA%93-%E5%86%85%E8%BF%9E%E6%8E%A5-%E5%B7%A6%E5%A4%96%E8%BF%9E%E6%8E%A5-%E5%8F%B3%E5%A4%96%E8%BF%9E%E6%8E%A5-%E5%85%A8%E5%A4%96%E8%BF%9E%E6%8E%A5/"/>
      <url>/2019/03/23/%E6%95%B0%E6%8D%AE%E5%BA%93-%E5%86%85%E8%BF%9E%E6%8E%A5-%E5%B7%A6%E5%A4%96%E8%BF%9E%E6%8E%A5-%E5%8F%B3%E5%A4%96%E8%BF%9E%E6%8E%A5-%E5%85%A8%E5%A4%96%E8%BF%9E%E6%8E%A5/</url>
      
        <content type="html"><![CDATA[<h2 id="内连接"><a class="markdownIt-Anchor" href="#内连接"></a> 内连接</h2><p>内连接中，只有满足连接条件的元组才能作为结果输出，即当任一个表中为null则不会输出。</p><p>SQL 语句：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> FIRST.Cno,SECOND.Cpno</span><br><span class="line"><span class="keyword">FROM</span> Course <span class="keyword">FIRST</span>,Course <span class="keyword">SECOND</span></span><br><span class="line"><span class="keyword">WHERE</span> FIRST.Cpno<span class="operator">=</span>SECOND.Cno;</span><br></pre></td></tr></table></figure><h2 id="左外连接"><a class="markdownIt-Anchor" href="#左外连接"></a> 左外连接</h2><p>如果在查询时需要保留一个表中全部的元组，就需要使用外连接。</p><p>SQL</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Student.Sno,Sname,Ssex,Sage,Sdept,Cno,Grade</span><br><span class="line"><span class="keyword">FROM</span> Student <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> SC <span class="keyword">ON</span> (Student.Sno<span class="operator">=</span>SC.Sno)</span><br></pre></td></tr></table></figure><p><code>LEFT JOIN</code> 与 <code>LEFT OUTER JOIN</code> 相同</p><p>使用左外连接会保存左边关系(表Student)中所有的元组以及右边关系(表SC)符合条件的元组。</p><span id="more"></span><h2 id="右外连接"><a class="markdownIt-Anchor" href="#右外连接"></a> 右外连接</h2><p>SQL</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Student.Sno,Sname,Ssex,Sage,Sdept,Cno,Grade</span><br><span class="line"><span class="keyword">FROM</span> Student <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> SC <span class="keyword">ON</span> (Student.Sno<span class="operator">=</span>SC.Sno)</span><br></pre></td></tr></table></figure><p><code>RIGHT JOIN</code> 与 <code>RIGHT OUTER JOIN</code> 相同</p><p>使用右外连接会保存右边关系(SC)中所有的元组以及右边关系(Student)符合条件的元组。</p><h2 id="全外连接"><a class="markdownIt-Anchor" href="#全外连接"></a> 全外连接</h2><p>SQL</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> A.<span class="operator">*</span>,B.<span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> A <span class="keyword">FULL</span> <span class="keyword">JOIN</span> B <span class="keyword">ON</span> A.id<span class="operator">=</span>B.id</span><br></pre></td></tr></table></figure><p>完整外部连接返回左表和右表中的所有行，不管另外一边的表中是否存在与它们匹配的行。</p>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Nginx uWsgi 重新运行Django项目</title>
      <link href="/2019/02/20/Nginx-uWsgi-%E9%87%8D%E6%96%B0%E8%BF%90%E8%A1%8CDjango%E9%A1%B9%E7%9B%AE/"/>
      <url>/2019/02/20/Nginx-uWsgi-%E9%87%8D%E6%96%B0%E8%BF%90%E8%A1%8CDjango%E9%A1%B9%E7%9B%AE/</url>
      
        <content type="html"><![CDATA[<h3 id="重新启动nginx"><a class="markdownIt-Anchor" href="#重新启动nginx"></a> 重新启动NGINX</h3><p>重新加载网站配置文件</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -s reload</span><br></pre></td></tr></table></figure><h3 id="重新启动uwsgi"><a class="markdownIt-Anchor" href="#重新启动uwsgi"></a> 重新启动uWSGI</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | grep uwsgi</span><br><span class="line"><span class="built_in">kill</span> -9 [pid]</span><br><span class="line">uwsgi --ini uwsgi.ini</span><br></pre></td></tr></table></figure><p>我是直接杀死进程然后重新运行的，也可以将uWSGI运行的PID存入到文件中，然后通过<code>uwsgi --reload file.pid</code> 。</p><p><a href="https://uwsgi-docs-zh.readthedocs.io/zh_CN/latest/Management.html">uWSGI Docs 管理uWSGI服务器</a></p>]]></content>
      
      
      <categories>
          
          <category> Nginx </category>
          
          <category> uWSGI </category>
          
          <category> Django </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nginx </tag>
            
            <tag> uWSGI </tag>
            
            <tag> Django </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在Docker Alpine中安装uwsgi</title>
      <link href="/2019/02/19/%E5%9C%A8Docker-Alpine%E4%B8%AD%E5%AE%89%E8%A3%85uwsgi/"/>
      <url>/2019/02/19/%E5%9C%A8Docker-Alpine%E4%B8%AD%E5%AE%89%E8%A3%85uwsgi/</url>
      
        <content type="html"><![CDATA[<p>uWSGI是一个由unbit提供的Web应用服务器，实现了WSGI规范。</p><p>在Docker中下载了一个 <code>python:3.6-alpine</code> 的镜像，相比其它版本，更加精简。但同时也缺少了很多必要的包，在镜像中直接安装<code>uwsgi</code>时会发生错误。</p><p><code>pip install uwsgi</code> 可能会产生无法编译或找不到python包的头文件错误。</p><h2 id="解决办法"><a class="markdownIt-Anchor" href="#解决办法"></a> 解决办法</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apk add --no-cache gcc make libc-dev linux-headers pcre-dev</span><br></pre></td></tr></table></figure><h2 id="dockerfile"><a class="markdownIt-Anchor" href="#dockerfile"></a> Dockerfile</h2><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> python:<span class="number">3.6</span>-alpine</span><br><span class="line"><span class="keyword">MAINTAINER</span> tzz &lt;tzzchn@outlook.com&gt;</span><br><span class="line"><span class="keyword">ENV</span> TZ <span class="string">&quot;Asia/Shanghai&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ADD</span><span class="language-bash"> . /webdata/bing2</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /webdata/bing2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">echo</span> https://mirrors.ustc.edu.cn/alpine/latest-stable/main &gt; /etc/apk/repositories; \</span></span><br><span class="line"><span class="language-bash">    <span class="built_in">echo</span> https://mirrors.ustc.edu.cn/alpine/latest-stable/community &gt;&gt; /etc/apk/repositories</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> \ </span></span><br><span class="line">apk update &amp;&amp; \</span><br><span class="line">apk <span class="keyword">add</span><span class="language-bash"> --no-cache gcc make libc-dev linux-headers &amp;&amp; \</span></span><br><span class="line"><span class="language-bash">pip install  -r /webdata/bing2/requirements.txt &amp;&amp; \ </span></span><br><span class="line">uwsgi --ini /webdata/bing2/uwsgi.ini</span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">80</span> <span class="number">8000</span> <span class="number">8080</span> <span class="number">9090</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> Alpine </category>
          
          <category> Docker </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>WordPress添加共享许可协议</title>
      <link href="/2019/01/16/Wordpress%E6%B7%BB%E5%8A%A0%E5%85%B1%E4%BA%AB%E8%AE%B8%E5%8F%AF%E5%8D%8F%E8%AE%AE/"/>
      <url>/2019/01/16/Wordpress%E6%B7%BB%E5%8A%A0%E5%85%B1%E4%BA%AB%E8%AE%B8%E5%8F%AF%E5%8D%8F%E8%AE%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="选择"><a class="markdownIt-Anchor" href="#选择"></a> 选择</h1><p>在 <a href="https://creativecommons.org/choose/">共享协议选择</a> 页面选择你想要的共享协议，也可以根据他给出的选项，选择后他会推荐对应的共享协议。</p><span id="more"></span><p><img src="https://cos5-1255991898.cos.ap-chongqing.myqcloud.com/tk/%7B00F130EB-56E8-4DE3-A991-2CC66C7C5307%7D.png.jpg" alt="许可协议要点" /></p><h1 id="更多署名信息"><a class="markdownIt-Anchor" href="#更多署名信息"></a> 更多署名信息</h1><p>可以选择添加对应的个人网站信息，在下面会即时生成对应的 html 代码。<br /><img src="https://cos5-1255991898.cos.ap-chongqing.myqcloud.com/tk/%7B30EF564D-F73B-4DB6-B06C-497ADDE65850%7D.png.jpg" alt="更多署名信息" /></p><h1 id="添加到wordpress"><a class="markdownIt-Anchor" href="#添加到wordpress"></a> 添加到Wordpress</h1><p><img src="https://cos5-1255991898.cos.ap-chongqing.myqcloud.com/tk/%7BF2000411-72FA-454C-90EF-DF818F778429%7D.png.jpg" alt="" /></p><p>复制下面的html代码</p><p>登录到Wordpres后台管理页面，选择 <strong><code>外观-编辑-主题文件-主题页脚-footer.php</code></strong><br />在后一个标签<code>&lt;/p&gt;</code>之前添加复制的html代码，然后更新文件。<br />其它对齐或换行可以根据自己喜好单独调整。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;br /&gt;</span><br><span class="line">&lt;a rel=<span class="string">&quot;license&quot;</span> href=<span class="string">&quot;http://creativecommons.org/licenses/by-sa/4.0/&quot;</span>&gt;&lt;img alt=<span class="string">&quot;知识共享许可协议&quot;</span> style=<span class="string">&quot;border-width:0&quot;</span> src=<span class="string">&quot;https://i.creativecommons.org/l/by-sa/4.0/80x15.png&quot;</span> /&gt;&lt;/a&gt;&lt;br /&gt;本作品由&lt;span xmlns:cc=<span class="string">&quot;http://creativecommons.org/ns#&quot;</span> property=<span class="string">&quot;cc:attributionName&quot;</span>&gt;TZZ&lt;/span&gt;采用&lt;a rel=<span class="string">&quot;license&quot;</span> href=<span class="string">&quot;http://creativecommons.org/licenses/by-sa/4.0/&quot;</span>&gt;知识共享署名-相同方式共享 <span class="number">4.0</span> 国际许可协议&lt;/a&gt;进行许可。基于&lt;a xmlns:dct=<span class="string">&quot;http://purl.org/dc/terms/&quot;</span> href=<span class="string">&quot;tzz6.xyz&quot;</span> rel=<span class="string">&quot;dct:source&quot;</span>&gt;tzz6.xyz&lt;/a&gt;上的作品创作。</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/footer&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> <span class="title function_ invoke__">wp_footer</span>(); <span class="meta">?&gt;</span></span><br><span class="line">&lt;/body&gt;&lt;/html&gt;</span><br></pre></td></tr></table></figure><h1 id="最终效果"><a class="markdownIt-Anchor" href="#最终效果"></a> 最终效果</h1><p><img src="https://cos5-1255991898.cos.ap-chongqing.myqcloud.com/tk/%7B32C673DC-48E5-4E01-A5BF-58BF44F6FD52%7D.png.jpg" alt="" /><br />完成！</p>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
          <category> WordPress </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>CDN HTTPS 配置</title>
      <link href="/2019/01/16/CDN-HTTPS-%E9%85%8D%E7%BD%AE/"/>
      <url>/2019/01/16/CDN-HTTPS-%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>在 <a href="https://console.cloud.tencent.com/cdn/tools/certificate/deploy">CDN-高级工具-证书管理界面</a> 进行配置证书。</p><h2 id="1选择要配置证书的域名"><a class="markdownIt-Anchor" href="#1选择要配置证书的域名"></a> 1.选择要配置证书的域名</h2><h2 id="2选择证书"><a class="markdownIt-Anchor" href="#2选择证书"></a> 2.选择证书</h2><p>如果对应的域名在腾讯云托管了证书，可以直接选择使用。</p><p>如果选择自有证书，<code>证书内容</code>中填写 <code>_public.crt</code> 文件中的编码，<code>私钥内容</code>填写 <code>.key</code> 文件中的内容。</p><p><strong>注</strong>：如果出现 <code>证书链无法补齐，您可以自行补齐证书链</code> 问题，可以在 <a href="https://myssl.com/chain_download.html">证书链下载/修复</a> 页面进行证书链补齐，选择 <strong><code>上传证书</code></strong> 选择 <code>_public.crt</code> 结尾的文件上传,即之前填写的证书文件，点击 <strong><code>获取证书链</code></strong> 按钮，即可生成完整的证书链，将生成的证书链复制粘贴到 <code>证书内容</code> 中.</p><span id="more"></span><h2 id="3选择回源方式"><a class="markdownIt-Anchor" href="#3选择回源方式"></a> 3.选择回源方式</h2><p>HTTP: 全部通过HTTP进行回源。</p><p>协议跟随：根据你访问网站的方式进行回源，HTTP方式访问即通过HTTP回源，HTTPS方式访问通过HTTPS进行回源。</p><h2 id="4提交"><a class="markdownIt-Anchor" href="#4提交"></a> 4.提交</h2><p>提交后，CDN会进行部署，然后会显示当前的证书状态。如果显示配置成功，可以浏览器访问HTTPS域名（如 <a href="https://tzz6.xyz">https://tzz6.xyz</a> )测试，如果正常打开，即配置完成。</p>]]></content>
      
      
      <categories>
          
          <category> CDN </category>
          
          <category> HTTPS </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>网站开启CDN加速</title>
      <link href="/2019/01/16/%E7%BD%91%E7%AB%99%E5%BC%80%E5%90%AFCDN%E5%8A%A0%E9%80%9F/"/>
      <url>/2019/01/16/%E7%BD%91%E7%AB%99%E5%BC%80%E5%90%AFCDN%E5%8A%A0%E9%80%9F/</url>
      
        <content type="html"><![CDATA[<h1 id="cdn"><a class="markdownIt-Anchor" href="#cdn"></a> CDN</h1><p>腾讯云和七牛云CDN都有免费额度</p><p><a href="https://portal.qiniu.com/financial/price?ref=developer.qiniu.com">七牛云CDN</a>每个月 CDN-HTTP 下载流量 1GB 免费（仅HTTP免费）。</p><p><a href="https://cloud.tencent.com/document/product/228/562">腾讯云CDN</a>用户每月均可享受 10 GB 免费流量包，接入加速域名后于次月 1 号发放至您的账户。新开通 CDN 的用户还会在开通后的 6 个月内每月收到腾讯云赠送的 50 GB 流量包。</p><p>我使用的是腾讯CDN，接下来就是按照腾讯云CDN配置方法。</p><span id="more"></span><h1 id="开通cdn"><a class="markdownIt-Anchor" href="#开通cdn"></a> 开通CDN</h1><p><a href="https://console.cloud.tencent.com/cdn">腾讯CDN控制台</a>开通CDN，需要实名认证-补充服务信息-选择付费方式。付费方式可以选择按使用流量收费，就可以直接从赠送的6个月的流量包中扣除。</p><h1 id="接入域名"><a class="markdownIt-Anchor" href="#接入域名"></a> 接入域名</h1><h2 id="需要"><a class="markdownIt-Anchor" href="#需要"></a> 需要</h2><ul><li>域名已备案</li></ul><h2 id="接入域名-2"><a class="markdownIt-Anchor" href="#接入域名-2"></a> 接入域名</h2><p>在 <a href="https://console.cloud.tencent.com/cdn/access">域名管理</a> 页面，选择添加域名</p><h3 id="域名配置"><a class="markdownIt-Anchor" href="#域名配置"></a> 域名配置</h3><p><img src="https://main.qcloudimg.com/raw/9eb6362d91925027758c55fff6f8b219.png" alt="" /></p><p>域名中填写要加速的域名，例如 <a href="tzz6.xyz">tzz6.xyz</a>,同时后面<a href="#%E9%85%8D%E7%BD%AECNAME">添加CNAME</a>时可以直接按照这个域名来配置。</p><p>源站设置中直接填写服务器IP即可，如果不是默认端口，后面添加端口即可，例如 <code>127.0.0.1:443</code></p><h3 id="加速服务配置"><a class="markdownIt-Anchor" href="#加速服务配置"></a> 加速服务配置</h3><p><img src="https://main.qcloudimg.com/raw/5a1a60e71ac4bd92f333c42298fcab36.png" alt="" /></p><p>博客类网站选择静态加速<br /><a href="tzz6.xyz">我的博客</a>网站由Wordpress驱动,加载速度慢主要是因为需要下载<code>.css .js .png</code> 类型文件，所以可以在缓存配置中添加</p><table><thead><tr><th>类型</th><th>内容</th><th>刷新时间</th></tr></thead><tbody><tr><td>文件类型</td><td><code>.css;.js;.png;.gif</code></td><td>1天</td></tr></tbody></table><p>你也可以通过浏览器开发者工具-Network查看加载速度慢的元素。<br />也可以添加全路径文件来缓存指定的文件，加快访问速度。<br />我的全部设置</p><table><thead><tr><th>类型</th><th>内容</th><th>刷新时间</th></tr></thead><tbody><tr><td>文件类型</td><td><code>.css;.js;.png;.gif</code></td><td>1天</td></tr><tr><td>全路径文件</td><td><code>/wordpress/wp-content/themes/wordstar/assets/fonts/fontawesome-webfont.woff2</code></td><td>1天</td></tr><tr><td>全部</td><td>all</td><td>1天</td></tr></tbody></table><h1 id="配置cname"><a class="markdownIt-Anchor" href="#配置cname"></a> 配置CNAME</h1><p>我的域名是在 阿里云 ，在域名解析页面中添加一条CNAME解析，如果你之前存在 <a href="###%E5%9F%9F%E5%90%8D%E9%85%8D%E7%BD%AE">域名配置</a> 中填写的域名的对应解析，需要先删除再添加CNAME解析。</p><p>主机记录根据对应的域名配置的前缀进行填写，如果直接为 <code>tzz6.xyz</code> 这种域名，则填写 <code>@</code> ，如果前缀为<code>www</code>，则填写<code>www</code>,其它类似。</p><p>记录值填写 CDN 分配的域名，然后保存即可。<br /><img src="https://cos5-1255991898.cos.ap-chongqing.myqcloud.com/tk/%7BD9EDBBE1-1519-40C1-B4D8-6558E3EB3CBF%7D.png.jpg" alt="" /></p><h1 id="cdn验证"><a class="markdownIt-Anchor" href="#cdn验证"></a> CDN验证</h1><p>CDN的生效需要一段时间，随后可以通过站长之家的工具测试是是否生效。</p><p><strong><a href="http://ping.chinaz.com">Ping检测</a></strong>：地图下面会显示对应的CDN信息<br /><img src="https://cos5-1255991898.cos.ap-chongqing.myqcloud.com/tk/%7B91925569-DD19-4CE6-BB16-104C1D67CAD6%7D.png.jpg" alt="" /></p><p><strong><a href="http://tool.chinaz.com/speedtest">国内测速</a></strong>:测试网站的打开速度</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>CentOS7 PHP5.6 upgrade to PHP7.2</title>
      <link href="/2019/01/08/CentOS7-PHP5-6-upgrade-to-PHP7-2/"/>
      <url>/2019/01/08/CentOS7-PHP5-6-upgrade-to-PHP7-2/</url>
      
        <content type="html"><![CDATA[<h1 id="服务器信息"><a class="markdownIt-Anchor" href="#服务器信息"></a> 服务器信息</h1><p>CentOS 7.5</p><p>Apache 2.4</p><p>PHP 5.6</p><h1 id="查找已安装的-php-package"><a class="markdownIt-Anchor" href="#查找已安装的-php-package"></a> 查找已安装的 PHP Package</h1><p>使用<code>yum list installed | grep &quot;php&quot;</code>查找已安装的php package，存档</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@aliyun ~]<span class="comment"># yum list installed | grep &quot;php&quot;</span></span><br><span class="line">Repository base is listed more than once <span class="keyword">in</span> the configuration</span><br><span class="line">Repository updates is listed more than once <span class="keyword">in</span> the configuration</span><br><span class="line">Repository extras is listed more than once <span class="keyword">in</span> the configuration</span><br><span class="line">Repository centosplus is listed more than once <span class="keyword">in</span> the configuration</span><br><span class="line">Repository base is listed more than once <span class="keyword">in</span> the configuration</span><br><span class="line">Repository updates is listed more than once <span class="keyword">in</span> the configuration</span><br><span class="line">Repository extras is listed more than once <span class="keyword">in</span> the configuration</span><br><span class="line">Repository centosplus is listed more than once <span class="keyword">in</span> the configuration</span><br><span class="line">php56w.x86_64                        5.6.39-1.w7                     @webtatic  </span><br><span class="line">php56w-cli.x86_64                    5.6.39-1.w7                     @webtatic  </span><br><span class="line">php56w-common.x86_64                 5.6.39-1.w7                     @webtatic  </span><br><span class="line">php56w-fpm.x86_64                    5.6.39-1.w7                     @webtatic  </span><br><span class="line">php56w-gd.x86_64                     5.6.39-1.w7                     @webtatic  </span><br><span class="line">php56w-ldap.x86_64                   5.6.39-1.w7                     @webtatic  </span><br><span class="line">php56w-mbstring.x86_64               5.6.39-1.w7                     @webtatic  </span><br><span class="line">php56w-mcrypt.x86_64                 5.6.39-1.w7                     @webtatic  </span><br><span class="line">php56w-mysqlnd.x86_64                5.6.39-1.w7                     @webtatic  </span><br><span class="line">php56w-pdo.x86_64                    5.6.39-1.w7                     @webtatic  </span><br><span class="line">php56w-xml.x86_64                    5.6.39-1.w7                     @webtatic  </span><br></pre></td></tr></table></figure><span id="more"></span><h1 id="删除已安装的php-package"><a class="markdownIt-Anchor" href="#删除已安装的php-package"></a> 删除已安装的PHP Package</h1><p>使用命令删除已安装的PHP</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum remove php-cli mod_php php-common</span><br></pre></td></tr></table></figure><h1 id="查找需要的php版本"><a class="markdownIt-Anchor" href="#查找需要的php版本"></a> 查找需要的PHP版本</h1><p>例如，使用下面的命令可以查找PHP7.2版本的Package</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum list | grep <span class="string">&quot;php72&quot;</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">[root@aliyun ~]<span class="comment"># yum list | grep &quot;php72&quot;</span></span><br><span class="line">Repository base is listed more than once <span class="keyword">in</span> the configuration</span><br><span class="line">Repository updates is listed more than once <span class="keyword">in</span> the configuration</span><br><span class="line">Repository extras is listed more than once <span class="keyword">in</span> the configuration</span><br><span class="line">Repository centosplus is listed more than once <span class="keyword">in</span> the configuration</span><br><span class="line">Repository base is listed more than once <span class="keyword">in</span> the configuration</span><br><span class="line">Repository updates is listed more than once <span class="keyword">in</span> the configuration</span><br><span class="line">Repository extras is listed more than once <span class="keyword">in</span> the configuration</span><br><span class="line">Repository centosplus is listed more than once <span class="keyword">in</span> the configuration</span><br><span class="line">mod_php72w.x86_64                       7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-bcmath.x86_64                    7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-cli.x86_64                       7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-common.x86_64                    7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-dba.x86_64                       7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-devel.x86_64                     7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-embedded.x86_64                  7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-enchant.x86_64                   7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-fpm.x86_64                       7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-gd.x86_64                        7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-imap.x86_64                      7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-interbase.x86_64                 7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-intl.x86_64                      7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-ldap.x86_64                      7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-mbstring.x86_64                  7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-mysql.x86_64                     7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-mysqlnd.x86_64                   7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-odbc.x86_64                      7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-opcache.x86_64                   7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-pdo.x86_64                       7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-pdo_dblib.x86_64                 7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-pear.noarch                      1:1.10.4-1.w7                   webtatic</span><br><span class="line">php72w-pecl-apcu.x86_64                 5.1.9-1.w7                      webtatic</span><br><span class="line">php72w-pecl-apcu-devel.x86_64           5.1.9-1.w7                      webtatic</span><br><span class="line">php72w-pecl-geoip.x86_64                1.1.1-1.2.w7                    webtatic</span><br><span class="line">php72w-pecl-igbinary.x86_64             2.0.5-1.w7                      webtatic</span><br><span class="line">php72w-pecl-igbinary-devel.x86_64       2.0.5-1.w7                      webtatic</span><br><span class="line">php72w-pecl-imagick.x86_64              3.4.3-1.2.w7                    webtatic</span><br><span class="line">php72w-pecl-imagick-devel.x86_64        3.4.3-1.2.w7                    webtatic</span><br><span class="line">php72w-pecl-libsodium.x86_64            1.0.6-1.2.w7                    webtatic</span><br><span class="line">php72w-pecl-memcached.x86_64            3.0.4-1.w7                      webtatic</span><br><span class="line">php72w-pecl-mongodb.x86_64              1.4.1-1.w7                      webtatic</span><br><span class="line">php72w-pecl-redis.x86_64                3.1.6-1.w7                      webtatic</span><br><span class="line">php72w-pecl-xdebug.x86_64               2.6.0-1.w7                      webtatic</span><br><span class="line">php72w-pgsql.x86_64                     7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-phpdbg.x86_64                    7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-process.x86_64                   7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-pspell.x86_64                    7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-recode.x86_64                    7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-snmp.x86_64                      7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-soap.x86_64                      7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-sodium.x86_64                    7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-tidy.x86_64                      7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-xml.x86_64                       7.2.13-1.w7                     webtatic</span><br><span class="line">php72w-xmlrpc.x86_64                    7.2.13-1.w7                     webtatic</span><br></pre></td></tr></table></figure><h1 id="安装对应的php72版本package"><a class="markdownIt-Anchor" href="#安装对应的php72版本package"></a> 安装对应的PHP7.2版本Package</h1><p><a href="#%E6%9F%A5%E6%89%BE%E5%B7%B2%E5%AE%89%E8%A3%85%E7%9A%84-php-package">根据之前存储的PHP5已安装的Package</a>，安装对应的PHP7.2的Package。</p><p>例如：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install mode_php72w php72w-cli php72w-mysqlnd</span><br><span class="line">yum install php72w-fpm php72w-mbstring php72w-gd php72w-ldap php72w-pdo php72w-xml</span><br></pre></td></tr></table></figure><p>这些就是我服务器上全部需要安装的包。</p><h1 id="重启apache服务器"><a class="markdownIt-Anchor" href="#重启apache服务器"></a> 重启Apache服务器</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart httpd</span><br></pre></td></tr></table></figure><p>生效可能需要几分钟，也可以直接重启服务器。</p><h1 id="测试"><a class="markdownIt-Anchor" href="#测试"></a> 测试</h1><p>在网站根目录下创建 <code>info.php</code> ,加入以下内容。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="title function_ invoke__">phpinfo</span>()</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>通过访问服务器 <code>IP/info.php</code> 或 <code>网址/info.php</code> 查看当前PHP信息。</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> CentOS </category>
          
          <category> PHP </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Windows 10 自动创建direct热点,正常WiFi热点无法开启</title>
      <link href="/2019/01/05/Windows-10-%E8%87%AA%E5%8A%A8%E5%88%9B%E5%BB%BAdirect%E7%83%AD%E7%82%B9-%E6%AD%A3%E5%B8%B8WiFi%E7%83%AD%E7%82%B9%E6%97%A0%E6%B3%95%E5%BC%80%E5%90%AF/"/>
      <url>/2019/01/05/Windows-10-%E8%87%AA%E5%8A%A8%E5%88%9B%E5%BB%BAdirect%E7%83%AD%E7%82%B9-%E6%AD%A3%E5%B8%B8WiFi%E7%83%AD%E7%82%B9%E6%97%A0%E6%B3%95%E5%BC%80%E5%90%AF/</url>
      
        <content type="html"><![CDATA[<p>今天使用电脑开启热点的时候，发现可以正常开启，但是手机搜索不到，只有一个Direct-[PC名] 的热点，并且无法连接，重新安装了网卡驱动也没有效果。</p><p>Google了一下也没看到办法，后来才想到今天手机向电脑投影的时候，开启了<code>投影到此电脑</code><br /><img src="https://cos5-1255991898.cos.ap-chongqing.myqcloud.com/tk/%E6%89%B9%E6%B3%A8%202019-01-05%20041910.jpg" alt="投影到此电脑" /></p><p>把这个关闭，那个创建的热点就会自动关闭。再去创建热点就正常了，所以这个投影到此电脑和启动热点不能同时使用一个网卡。</p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
          <category> Windows10 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 有效的字母异位词 Valid Anagram</title>
      <link href="/2018/12/30/LeetCode-%E6%9C%89%E6%95%88%E7%9A%84%E5%AD%97%E6%AF%8D%E5%BC%82%E4%BD%8D%E8%AF%8D-Valid-Anagram/"/>
      <url>/2018/12/30/LeetCode-%E6%9C%89%E6%95%88%E7%9A%84%E5%AD%97%E6%AF%8D%E5%BC%82%E4%BD%8D%E8%AF%8D-Valid-Anagram/</url>
      
        <content type="html"><![CDATA[<p>Given two strings s and t , write a function to determine if t is an anagram of s.</p><p><strong>Example 1:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;anagram&quot;, t = &quot;nagaram&quot;</span><br><span class="line">Output: true</span><br></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;rat&quot;, t = &quot;car&quot;</span><br><span class="line">Output: false</span><br></pre></td></tr></table></figure><p><strong>Note:</strong></p><p>You may assume the string contains only lowercase alphabets.</p><p><strong>Follow up:</strong></p><p>What if the inputs contain unicode characters? How would you adapt your solution to such case?</p><p><strong>PYTHON3:</strong></p><p>解法：先进行排序，然后判断字符串是否相同</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">isAnagram</span>(<span class="params">self, s, t</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        :type s: str</span></span><br><span class="line"><span class="string">        :type t: str</span></span><br><span class="line"><span class="string">        :rtype: bool</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sorted</span>(s)==<span class="built_in">sorted</span>(t)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> LeetCode </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 整数反转</title>
      <link href="/2018/12/29/LeetCode-%E6%95%B4%E6%95%B0%E5%8F%8D%E8%BD%AC/"/>
      <url>/2018/12/29/LeetCode-%E6%95%B4%E6%95%B0%E5%8F%8D%E8%BD%AC/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cos5-1255991898.cos.ap-chongqing.myqcloud.com/tk/%E6%89%B9%E6%B3%A8%202018-12-29%20030945.jpg" alt="题目" /></p><blockquote><p>我采用的策略</p></blockquote><ol><li><p>去除最后面的0</p><p>不断进行 <code>x % 10 == 0</code> 判断，如果最后一位为0，则执行 <code>x //= 10</code> 。 使用 // 来执行除法，会将产生小数直接抛弃，只剩下整数。</p></li><li><p>判断正数还是负数</p><p>正数：直接将数字进行反转<br />负数：将除负号外进行反转，返回时添加负号</p></li><li><p>数字反转</p><p>将数字转化为字符串，使用字符串倒序 <code>x[::-1]</code> 进行反转，反转完成后再转化为 int 类型。其中负数对应的字符串反转要避免符号位，即 <code>x[:0:-1]</code> 。</p></li><li><p>判断溢出</p><p>最后要判断反转的结果是否在范围内，不在就返回为 0 。 使用 2**31 来计算次方会比 pow() 计算更快。</p></li></ol><p>TIME: 64ms</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">reverse</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        :type x: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="built_in">max</span> = <span class="number">2</span>**<span class="number">31</span>-<span class="number">1</span></span><br><span class="line">        <span class="built_in">min</span> = -<span class="number">2</span>**<span class="number">31</span></span><br><span class="line">        <span class="keyword">while</span> x &gt; <span class="number">10</span> <span class="keyword">and</span> x % <span class="number">10</span> == <span class="number">0</span>:</span><br><span class="line">            x //= <span class="number">10</span></span><br><span class="line">        <span class="keyword">if</span> x &gt;= <span class="number">0</span>:</span><br><span class="line">            x = <span class="built_in">int</span>(<span class="built_in">str</span>(x)[::-<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span> <span class="keyword">if</span> x &gt; <span class="built_in">max</span> <span class="keyword">or</span> x &lt; <span class="built_in">min</span> <span class="keyword">else</span> x</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            x = -<span class="built_in">int</span>(<span class="built_in">str</span>(x)[:<span class="number">0</span>:-<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span> <span class="keyword">if</span> x &gt; <span class="built_in">max</span> <span class="keyword">or</span> x &lt; <span class="built_in">min</span> <span class="keyword">else</span> x</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>连接网络bat</title>
      <link href="/2018/12/15/%E8%BF%9E%E6%8E%A5%E7%BD%91%E7%BB%9Cbat/"/>
      <url>/2018/12/15/%E8%BF%9E%E6%8E%A5%E7%BD%91%E7%BB%9Cbat/</url>
      
        <content type="html"><![CDATA[<figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">title</span>=NetKeeper-WiFi</span><br><span class="line">::</span><br><span class="line">::设置参数</span><br><span class="line">::</span><br><span class="line"><span class="built_in">SET</span> netkeeper=&quot;D:\Program Files\NetKeeper\NetKeeper.exe&quot;</span><br><span class="line"><span class="built_in">SET</span> nkTask=&quot;NK.exe&quot;</span><br><span class="line"><span class="built_in">SET</span> wifi=&quot;D:\Program Files (x86)\kingsoft\kwifi\kwifi.exe&quot;</span><br><span class="line"><span class="built_in">SET</span> wifiTask=&quot;kwifi.exe&quot;</span><br><span class="line"></span><br><span class="line">:: 获取管理员身份</span><br><span class="line"><span class="built_in">echo</span> Obtaining administrator identity ...</span><br><span class="line"><span class="built_in">cd</span> /d <span class="variable">%~dp0</span></span><br><span class="line"><span class="variable">%</span><span class="number">1</span> <span class="built_in">start</span> &quot;&quot; mshta vbscript:createobject(&quot;shell.application&quot;).shellexecute(&quot;&quot;&quot;%~<span class="number">0</span>&quot;&quot;&quot;,&quot;::&quot;,,&quot;runas&quot;,<span class="number">1</span>)(window.close)&amp;<span class="keyword">exit</span></span><br><span class="line"></span><br><span class="line">:: 判断网络是否连接</span><br><span class="line"><span class="built_in">echo</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="built_in">Start</span> network connection test ...</span><br><span class="line"><span class="built_in">echo</span>; &gt;&gt; <span class="built_in">ping</span>.log</span><br><span class="line"><span class="built_in">echo</span>; &gt;&gt; <span class="built_in">ping</span>.log</span><br><span class="line"><span class="built_in">echo</span>;</span><br><span class="line"><span class="built_in">echo</span> *********************<span class="variable">%date%</span> <span class="variable">%time%</span>********************* &gt;&gt; <span class="built_in">ping</span>.log</span><br><span class="line">::baidu DNS</span><br><span class="line"><span class="built_in">ping</span> /n <span class="number">2</span> <span class="number">180</span>.<span class="number">76</span>.<span class="number">76</span>.<span class="number">76</span>&gt;&gt;<span class="built_in">ping</span>.log</span><br><span class="line"><span class="built_in">ping</span> /n <span class="number">2</span> <span class="number">180</span>.<span class="number">76</span>.<span class="number">76</span>.<span class="number">76</span>&gt;tmp.log</span><br><span class="line"><span class="built_in">echo</span>; &gt;&gt; <span class="built_in">ping</span>.log</span><br><span class="line"><span class="keyword">for</span> /f <span class="variable">%%i</span> <span class="keyword">in</span> (&#x27;<span class="built_in">findstr</span> /n &quot;超时&quot; tmp.log&#x27;) <span class="keyword">do</span> (<span class="built_in">set</span> r=<span class="variable">%%i</span>)</span><br><span class="line"><span class="built_in">del</span> tmp.log</span><br><span class="line"></span><br><span class="line">:: 判断是否连接网络</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">defined</span> r (</span><br><span class="line"><span class="built_in">echo</span> <span class="built_in">Start</span> the network connection ...</span><br><span class="line"></span><br><span class="line">::关闭wifi进程</span><br><span class="line"><span class="built_in">echo</span> close the wifi task ...</span><br><span class="line"><span class="built_in">taskkill</span> /f /t /im <span class="variable">%wifiTask%</span></span><br><span class="line"></span><br><span class="line">:: 启动netkeeper</span><br><span class="line"><span class="built_in">echo</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="built_in">start</span> NetKeeper ...</span><br><span class="line"><span class="built_in">start</span> &quot;&quot; <span class="variable">%netkeeper%</span></span><br><span class="line"></span><br><span class="line">:: 等待连接</span><br><span class="line"><span class="built_in">echo</span>;</span><br><span class="line"><span class="built_in">echo</span> Waiting <span class="keyword">for</span> the program to complete ...</span><br><span class="line"><span class="built_in">echo</span> please wait <span class="number">30</span> seconds ...</span><br><span class="line">timeout /t <span class="number">30</span></span><br><span class="line"></span><br><span class="line">:: 关闭NK进程</span><br><span class="line"><span class="built_in">echo</span>;</span><br><span class="line"><span class="built_in">echo</span> close the task ...</span><br><span class="line"><span class="built_in">taskkill</span> /f /t /im <span class="variable">%nkTask%</span></span><br><span class="line"></span><br><span class="line">:: 启动wifi</span><br><span class="line"><span class="built_in">echo</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="built_in">start</span> kwifi ...</span><br><span class="line"><span class="built_in">start</span> &quot;&quot; <span class="variable">%wifi%</span></span><br><span class="line"></span><br><span class="line">:: 执行完成 关闭窗口</span><br><span class="line"><span class="built_in">echo</span>;</span><br><span class="line"><span class="built_in">echo</span> execution completed ...</span><br><span class="line"><span class="built_in">echo</span> Off automatically after <span class="number">5</span> seconds ...</span><br><span class="line">timeout /t <span class="number">5</span></span><br><span class="line"></span><br><span class="line">) <span class="keyword">else</span> (</span><br><span class="line"></span><br><span class="line"><span class="built_in">taskkill</span> /f /t /im <span class="variable">%nkTask%</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span>;</span><br><span class="line"><span class="built_in">echo</span> Network connected ...</span><br><span class="line"><span class="built_in">echo</span>;</span><br><span class="line"><span class="built_in">echo</span> Off automatically after <span class="number">5</span> seconds ...</span><br><span class="line"><span class="built_in">echo</span>;</span><br><span class="line">timeout /t <span class="number">10</span></span><br><span class="line"></span><br><span class="line">)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> bat </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Hexo bug</title>
      <link href="/2018/12/13/hexo-bug/"/>
      <url>/2018/12/13/hexo-bug/</url>
      
        <content type="html"><![CDATA[<h1 id="修改文章的大小写后重新部署无效"><a class="markdownIt-Anchor" href="#修改文章的大小写后重新部署无效"></a> 修改文章的大小写后，重新部署无效</h1><p>在初次提交文章后，你想要修改文章名字的大小写和分类时，部署后链接会修改，但是Github上的文章名并没有修改，所以打开链接会导致 404 错误。</p><h2 id="原因"><a class="markdownIt-Anchor" href="#原因"></a> 原因</h2><p>这是因为在Windos和MAC OSX 系统中 Git 会忽略对文件或目录大小写的更改，导致Github上文章名不会更新。</p><h2 id="解决办法"><a class="markdownIt-Anchor" href="#解决办法"></a> 解决办法</h2><p>可以先将文件名添加字母或修改为其他名字，再次部署后再进行大小写的修改，进行重新部署。</p>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CentOS安装Python3</title>
      <link href="/2018/12/13/CentOS%E5%AE%89%E8%A3%85Python/"/>
      <url>/2018/12/13/CentOS%E5%AE%89%E8%A3%85Python/</url>
      
        <content type="html"><![CDATA[<p>需要运行基于 Python3 的 Django 项目，服务器默认安装的为 python2 ,需要安装Python3</p><p><strong>以下命令均为在 root 身份下执行，如果权限不够，请切换管理眼身份，或在每条命令前添加 <code>sudo</code> 。</strong></p><h1 id="安装python3"><a class="markdownIt-Anchor" href="#安装python3"></a> 安装Python3</h1><h2 id="创建目录"><a class="markdownIt-Anchor" href="#创建目录"></a> 创建目录</h2><p>创建 python3 的下载安装目录</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">mk /usr/local/python3</span></span><br></pre></td></tr></table></figure><span id="more"></span><h2 id="下载解压"><a class="markdownIt-Anchor" href="#下载解压"></a> 下载解压</h2><p>可以在 python 的 <a href="https://www.python.org">官网</a> 找到最新的 python3 安装包，然后使用 <code>wget</code> 命令下载下来。<br />这是 <a href="https://www.python.org/downloads/source/">Python 3.7.1</a> 的页面，最下面找到下载地址，其中第一个为 tgz 格式的压缩包</p><p><img src="https://cos5-1255991898.cos.ap-chongqing.myqcloud.com/tk/%E6%89%B9%E6%B3%A8%202018-12-13%20005037.jpg" alt="" /></p><p>下载完成后进行解压</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">wget https://www.python.org/ftp/python/3.7.1/Python-3.7.1.tgz</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">tar -xzvf Python-3.7.1.tgz</span></span><br></pre></td></tr></table></figure><h2 id="安装依赖"><a class="markdownIt-Anchor" href="#安装依赖"></a> 安装依赖</h2><p>在 python3 进行编译安装时，需要用到其它的依赖包，要先进行安装</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">yum install -y ncurses-libs zlib-devel mysql-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel libffi libffi-devel</span></span><br></pre></td></tr></table></figure><h2 id="编译安装"><a class="markdownIt-Anchor" href="#编译安装"></a> 编译安装</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> Python-3.7.1</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./configure --prefix=/usr/local/python3 <span class="comment"># 生成makefile  --prefix 设置安装路径</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">make <span class="comment"># 编译</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">make install <span class="comment"># 安装</span></span></span><br></pre></td></tr></table></figure><h2 id="配置链接"><a class="markdownIt-Anchor" href="#配置链接"></a> 配置链接</h2><p>可以使用 <code>which python</code> 来查看原来python的位置</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">which</span> python</span></span><br><span class="line">/usr/bin/python</span><br></pre></td></tr></table></figure><p><code>ls -l</code> 查看软链接设置</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">lrwxrwxrwx  <span class="number">1</span> root root           <span class="number">7</span> Nov <span class="number">15</span> <span class="number">00</span>:<span class="number">19</span> python -&gt; python2</span><br><span class="line">lrwxrwxrwx  <span class="number">1</span> root root           <span class="number">9</span> Nov <span class="number">15</span> <span class="number">00</span>:<span class="number">19</span> python2 -&gt; python2.<span class="number">7</span></span><br><span class="line">-rwxr-xr-x  <span class="number">1</span> root root        <span class="number">7216</span> Jul <span class="number">13</span> <span class="number">21</span>:<span class="number">07</span> python2.<span class="number">7</span></span><br></pre></td></tr></table></figure><p>创建 python3 的软链接</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ln</span> -s /usr/local/python3/bin/python3 /usr/bin/python3</span></span><br></pre></td></tr></table></figure><p>当前链接情况, <code>python</code> 和 <code>python2</code> 指向 python 2.7.5 ，<code>python3</code> 指向 python 3.7.1</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">lrwxrwxrwx  <span class="number">1</span> root root           <span class="number">7</span> Nov <span class="number">15</span> <span class="number">00</span>:<span class="number">19</span> python -&gt; python2</span><br><span class="line">lrwxrwxrwx  <span class="number">1</span> root root           <span class="number">9</span> Nov <span class="number">15</span> <span class="number">00</span>:<span class="number">19</span> python2 -&gt; python2.<span class="number">7</span></span><br><span class="line">-rwxr-xr-x  <span class="number">1</span> root root        <span class="number">7216</span> Jul <span class="number">13</span> <span class="number">21</span>:<span class="number">07</span> python2.<span class="number">7</span></span><br><span class="line">lrwxrwxrwx  <span class="number">1</span> root root          <span class="number">30</span> Dec <span class="number">13</span> <span class="number">01</span>:<span class="number">46</span> python3 -&gt; /usr/local/python3/bin/python3</span><br></pre></td></tr></table></figure><h1 id="安装pip3"><a class="markdownIt-Anchor" href="#安装pip3"></a> 安装pip3</h1><p>python3.7 已经附带了pip3 ，在 <code>/usr/local/python3/bin</code> 中可以看到 pip3</p><h2 id="创建pip3软链接"><a class="markdownIt-Anchor" href="#创建pip3软链接"></a> 创建pip3软链接</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ln</span> -s /usr/local/python3/bin/pip3 /usr/bin/pip3</span></span><br></pre></td></tr></table></figure><p>此时就可以正常使用 <code>python3</code> ，<code>pip3</code> 来使用 <code>python3.7.1</code> 了。</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> CentOS </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>python sqlite3 数据库操作的自动提交</title>
      <link href="/2018/12/11/python-sqlite3-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C%E7%9A%84%E8%87%AA%E5%8A%A8%E6%8F%90%E4%BA%A4/"/>
      <url>/2018/12/11/python-sqlite3-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C%E7%9A%84%E8%87%AA%E5%8A%A8%E6%8F%90%E4%BA%A4/</url>
      
        <content type="html"><![CDATA[<p>在一个爬虫中使用了Sqlite3数据库，在将内容写入数据库时，可以正常执行，并且使用同一个游标可以正常读出数据，但是数据库中并没有内容。</p><p>在网上搜索时发现，是因为sqlite的事务控制导致，其中在执行数据库操作时，会有两种commit状态。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">智能commit状态:</span><br><span class="line">    生成方式: 在connect()中不传入 isolation_level, 此时isolation_level==&#x27;&#x27;</span><br><span class="line">        在进行 执行Data Modification Language (DML) 操作(INSERT/UPDATE/DELETE/REPLACE)时, 会自动打开一个事务,</span><br><span class="line">        在执行 非DML, 非query (非 SELECT 和上面提到的)语句时, 会隐式执行commit</span><br><span class="line">        可以使用 connection.commit()方法来进行提交</span><br><span class="line">    注意:</span><br><span class="line">        不能和cur.execute(&quot;COMMIT&quot;)共用</span><br><span class="line">    </span><br><span class="line">自动commit状态:</span><br><span class="line">    生成方式: 在connect()中传入 isolation_level=None</span><br><span class="line">        这样,在任何DML操作时,都会自动提交</span><br><span class="line">    事务处理</span><br><span class="line">        connection.execute(&quot;BEGIN TRANSACTION&quot;)</span><br><span class="line">        connection.execute(&quot;COMMIT&quot;)</span><br><span class="line">    如果不使用事务, 批量添加数据非常缓慢</span><br></pre></td></tr></table></figure><h2 id="智能commit状态"><a class="markdownIt-Anchor" href="#智能commit状态"></a> 智能commit状态</h2><p>即在下面这种非数据修改操作时，会自动执行commit操作。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result = c.execute(<span class="string">&quot;select * from bing_images&quot;</span>)</span><br></pre></td></tr></table></figure><p>当进行数据库写入时，这种数据修改操作并不会自动提交,需要在执行完成后进行手动提交(需要connection.commit()进行提交)。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">c.execute(insert_sql)</span><br><span class="line">conn.commit() <span class="comment"># connection</span></span><br></pre></td></tr></table></figure><h2 id="自动commit状态"><a class="markdownIt-Anchor" href="#自动commit状态"></a> 自动commit状态</h2><p>在这种情况下，无论是数据修改操作还是非数据修改操作都会自动提交。</p>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
          <category> sqlite3 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>django models中设置字段允许为空</title>
      <link href="/2018/12/11/django-models%E4%B8%AD%E8%AE%BE%E7%BD%AE%E5%AD%97%E6%AE%B5%E5%85%81%E8%AE%B8%E4%B8%BA%E7%A9%BA/"/>
      <url>/2018/12/11/django-models%E4%B8%AD%E8%AE%BE%E7%BD%AE%E5%AD%97%E6%AE%B5%E5%85%81%E8%AE%B8%E4%B8%BA%E7%A9%BA/</url>
      
        <content type="html"><![CDATA[<p>在Django-models中定义数据库字段时，其字段默认是不允许为空的，在直接向数据库中插入非全部字段时，会直接发生下面错误：</p><p>_ sqlite3.IntegrityError: NOT NULL constraint failed: bing images.drk _</p><p>即 sqlite3 完整性错误，其中NOT NULL 约束失败，默认字段不允许为空。</p><p>可以通过在models的字段定义上设置 <code>null = True</code> 来解决</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">url = models.CharField(max_length=<span class="number">200</span>, null=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><p>Django中源代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">formfield</span>(<span class="params">self, **kwargs</span>):</span><br><span class="line">    <span class="comment"># Passing max_length to forms.CharField means that the value&#x27;s length</span></span><br><span class="line">    <span class="comment"># will be validated twice. This is considered acceptable since we want</span></span><br><span class="line">    <span class="comment"># the value in the form field (to pass into widget for example).</span></span><br><span class="line">    defaults = &#123;<span class="string">&#x27;max_length&#x27;</span>: self.max_length&#125;</span><br><span class="line">    <span class="comment"># <span class="doctag">TODO:</span> Handle multiple backends with different feature flags.</span></span><br><span class="line">    <span class="keyword">if</span> self.null <span class="keyword">and</span> <span class="keyword">not</span> connection.features.interprets_empty_strings_as_nulls:</span><br><span class="line">        defaults[<span class="string">&#x27;empty_value&#x27;</span>] = <span class="literal">None</span></span><br><span class="line">    defaults.update(kwargs)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">super</span>().formfield(**defaults)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
          <category> Django </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Django </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HEXO</title>
      <link href="/2018/11/22/HEXO/"/>
      <url>/2018/11/22/HEXO/</url>
      
        <content type="html"><![CDATA[<ul><li>hexo 中的 public 目录每次生成静态文件(hexo g)都会重新生成</li><li>修改about页面信息需要在 <a href="http://soure-about-index.md">soure-about-index.md</a> 中修改</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>修改wordpress的翻译文件</title>
      <link href="/2018/11/20/%E4%BF%AE%E6%94%B9wordpress%E7%9A%84%E7%BF%BB%E8%AF%91%E6%96%87%E4%BB%B6/"/>
      <url>/2018/11/20/%E4%BF%AE%E6%94%B9wordpress%E7%9A%84%E7%BF%BB%E8%AF%91%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p>之前WordPress博客的首页部分内容翻译错误，就想手动修改一下。</p><h1 id="使用-xftp-登录服务器"><a class="markdownIt-Anchor" href="#使用-xftp-登录服务器"></a> 使用 Xftp 登录服务器</h1><p>1、找到wordpress的安装目录</p><p>2、在 <em>/wordpress/wp-content/languages/themes</em> 目录下，找到你主题的对应翻译文件。</p><p>每个主题都有两个 .mo .po 类型的文件</p><p><img src="https://s1.ax1x.com/2018/11/20/F9Zas1.jpg" alt="F9Zas1.jpg" /></p><p>其中po文件,即Portable Object(可移植对象) 是翻译人员进行编写的翻译文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#: inc/main-funtions.php:469</span><br><span class="line">msgid &quot;Github&quot;</span><br><span class="line">msgstr &quot;Github&quot;</span><br><span class="line"></span><br><span class="line">#: inc/main-funtions.php:461</span><br><span class="line">msgid &quot;LinkedIn&quot;</span><br><span class="line">msgstr &quot;领英&quot;</span><br><span class="line"></span><br><span class="line">#: inc/main-funtions.php:449</span><br><span class="line">msgid &quot;Facebook&quot;</span><br><span class="line">msgstr &quot;脸书&quot;</span><br></pre></td></tr></table></figure><p>mo 文件 Machine Object(机器对象) 是由 po 文件编译成的二进制文件,应用程序可以通过读取 .mo 文件进行对应语言的翻译显示。</p><p>我们将要修改主题翻译的 .po 文件下载下来。</p><h1 id="修改翻译"><a class="markdownIt-Anchor" href="#修改翻译"></a> 修改翻译</h1><p>我们只能修改 .po 文件后再将其编译为 .mo 文件，其中编译软件可以使用 <a href="https://poedit.net/">Poedit</a> 。<br />使用 <a href="https://poedit.net/">Poedit</a> 打开下载的 .po 文件，<br /><img src="https://s1.ax1x.com/2018/11/20/F9ubNV.jpg" alt="F9ubNV.jpg" /><br />修改想要修改的翻译内容，修改完成后点击左上角 文件 - 编译为mo - 保存文件。</p><h1 id="上传覆盖"><a class="markdownIt-Anchor" href="#上传覆盖"></a> 上传覆盖</h1><p>编译完成后将编译完成的 .mo 文件上传到服务器，将原来的mo文件覆盖。<br />此时重新打开 wordpress 博客首页，翻译就已经生效了。</p>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
          <category> WordPress </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WordPress </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo 更换主题</title>
      <link href="/2018/11/16/hexo-%E6%9B%B4%E6%8D%A2%E4%B8%BB%E9%A2%98/"/>
      <url>/2018/11/16/hexo-%E6%9B%B4%E6%8D%A2%E4%B8%BB%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h1 id="选择主题"><a class="markdownIt-Anchor" href="#选择主题"></a> 选择主题</h1><p>可以在 <a href="https://www.zhihu.com/question/24422335">有哪些好看的 Hexo 主题?</a> 找个自己喜欢的主题，我选择的是 <a href="https://github.com/theme-next/hexo-theme-next">hexo-theme-next</a> 主题</p><h1 id="下载主题"><a class="markdownIt-Anchor" href="#下载主题"></a> 下载主题</h1><p>打开在 Hexo 根目录 打开 CMD</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir theme/next</span><br><span class="line">git clone https://github.com/theme-next/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure><h1 id="安装主题"><a class="markdownIt-Anchor" href="#安装主题"></a> 安装主题</h1><p>打开 _config.yml 配置文件,<br /><img src="a.jpg" alt="[_config.yml]" /><br />修改主题为 next</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g # 重新生成静态文件</span><br><span class="line">$ hexo s # 本地预览效果</span><br><span class="line">$ hexo d # 部署到Github</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2018/11/16/hello-world/"/>
      <url>/2018/11/16/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="quick-start"><a class="markdownIt-Anchor" href="#quick-start"></a> Quick Start</h2><h3 id="create-a-new-post"><a class="markdownIt-Anchor" href="#create-a-new-post"></a> Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="run-server"><a class="markdownIt-Anchor" href="#run-server"></a> Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="generate-static-files"><a class="markdownIt-Anchor" href="#generate-static-files"></a> Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="deploy-to-remote-sites"><a class="markdownIt-Anchor" href="#deploy-to-remote-sites"></a> Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
